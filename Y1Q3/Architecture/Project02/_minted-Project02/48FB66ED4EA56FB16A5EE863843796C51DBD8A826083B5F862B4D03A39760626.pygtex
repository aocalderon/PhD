\begin{Verbatim}[commandchars=\\\{\}]
\PYGdefault{c+cm}{/* I inclued this copyright since we\PYGdefaultZsq{}re using Cacti for some stuff */}

\PYGdefault{c+cm}{/*\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}}
\PYGdefault{c+cm}{ *  Copyright 1994 Digital Equipment Corporation and Steve Wilton}
\PYGdefault{c+cm}{ *                         All Rights Reserved}
\PYGdefault{c+cm}{ *}
\PYGdefault{c+cm}{ * Permission to use, copy, and modify this software and its documentation is}
\PYGdefault{c+cm}{ * hereby granted only under the following terms and conditions.  Both the}
\PYGdefault{c+cm}{ * above copyright notice and this permission notice must appear in all copies}
\PYGdefault{c+cm}{ * of the software, derivative works or modified versions, and any portions}
\PYGdefault{c+cm}{ * thereof, and both notices must appear in supporting documentation.}
\PYGdefault{c+cm}{ *}
\PYGdefault{c+cm}{ * Users of this software agree to the terms and conditions set forth herein,}
\PYGdefault{c+cm}{ * and hereby grant back to Digital a non\PYGdefaultZhy{}exclusive, unrestricted, royalty\PYGdefaultZhy{}}
\PYGdefault{c+cm}{ * free right and license under any changes, enhancements or extensions}
\PYGdefault{c+cm}{ * made to the core functions of the software, including but not limited to}
\PYGdefault{c+cm}{ * those affording compatibility with other hardware or software}
\PYGdefault{c+cm}{ * environments, but excluding applications which incorporate this software.}
\PYGdefault{c+cm}{ * Users further agree to use their best efforts to return to Digital any}
\PYGdefault{c+cm}{ * such changes, enhancements or extensions that they make and inform Digital}
\PYGdefault{c+cm}{ * of noteworthy uses of this software.  Correspondence should be provided}
\PYGdefault{c+cm}{ * to Digital at:}
\PYGdefault{c+cm}{ *}
\PYGdefault{c+cm}{ *                       Director of Licensing}
\PYGdefault{c+cm}{ *                       Western Research Laboratory}
\PYGdefault{c+cm}{ *                       Digital Equipment Corporation}
\PYGdefault{c+cm}{ *                       100 Hamilton Avenue}
\PYGdefault{c+cm}{ *                       Palo Alto, California  94301}
\PYGdefault{c+cm}{ *}
\PYGdefault{c+cm}{ * This software may be distributed (but not offered for sale or transferred}
\PYGdefault{c+cm}{ * for compensation) to third parties, provided such third parties agree to}
\PYGdefault{c+cm}{ * abide by the terms and conditions of this notice.}
\PYGdefault{c+cm}{ *}
\PYGdefault{c+cm}{ * THE SOFTWARE IS PROVIDED \PYGdefaultZdq{}AS IS\PYGdefaultZdq{} AND DIGITAL EQUIPMENT CORP. DISCLAIMS ALL}
\PYGdefault{c+cm}{ * WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES}
\PYGdefault{c+cm}{ * OF MERCHANTABILITY AND FITNESS.   IN NO EVENT SHALL DIGITAL EQUIPMENT}
\PYGdefault{c+cm}{ * CORPORATION BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL}
\PYGdefault{c+cm}{ * DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR}
\PYGdefault{c+cm}{ * PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS}
\PYGdefault{c+cm}{ * ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS}
\PYGdefault{c+cm}{ * SOFTWARE.}
\PYGdefault{c+cm}{ *\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}*/}

\PYGdefault{c+cp}{\PYGdefaultZsh{}include \PYGdefaultZlt{}math.h\PYGdefaultZgt{}}
\PYGdefault{c+cp}{\PYGdefaultZsh{}include \PYGdefaultZdq{}power.h\PYGdefaultZdq{}}
\PYGdefault{c+cp}{\PYGdefaultZsh{}include \PYGdefaultZdq{}machine.h\PYGdefaultZdq{}}
\PYGdefault{c+cp}{\PYGdefaultZsh{}include \PYGdefaultZdq{}cache.h\PYGdefaultZdq{}}
\PYGdefault{c+cp}{\PYGdefaultZsh{}include \PYGdefaultZlt{}assert.h\PYGdefaultZgt{}}

\PYGdefault{c+cp}{\PYGdefaultZsh{}define SensePowerfactor (Mhz)*(Vdd/2)*(Vdd/2)}
\PYGdefault{c+cp}{\PYGdefaultZsh{}define Sense2Powerfactor (Mhz)*(2*.3+.1*Vdd)}

\PYGdefault{c+cm}{/******************************************/}	       
\PYGdefault{c+cm}{/* CS 203A Defining a new Power factor    */}	       
\PYGdefault{c+cm}{/******************************************/}

\PYGdefault{k}{extern} \PYGdefault{k+kt}{float} \PYGdefault{n}{VSF}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{float} \PYGdefault{n}{FSF}\PYGdefault{p}{;}
\PYGdefault{c+cp}{\PYGdefaultZsh{}define Powerfactor (FSF)*(Mhz)*(VSF*VSF)*Vdd*Vdd}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{float} \PYGdefault{n}{total}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{float} \PYGdefault{n}{power\PYGdefaultZus{}factor}\PYGdefault{p}{;}

\PYGdefault{c+cm}{/******************************************/}	       
\PYGdefault{c+cm}{/*                                        */}	       
\PYGdefault{c+cm}{/******************************************/}

\PYGdefault{c+cp}{\PYGdefaultZsh{}define LowSwingPowerfactor (Mhz)*.2*.2}
\PYGdefault{c+cm}{/* set scale for crossover (vdd\PYGdefaultZhy{}\PYGdefaultZgt{}gnd) currents */}
\PYGdefault{k+kt}{double} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling} \PYGdefault{o}{=} \PYGdefault{l+m+mf}{1.2}\PYGdefault{p}{;}
\PYGdefault{c+cm}{/* set non\PYGdefaultZhy{}ideal turnoff percentage */}
\PYGdefault{k+kt}{double} \PYGdefault{n}{turnoff\PYGdefaultZus{}factor} \PYGdefault{o}{=} \PYGdefault{l+m+mf}{0.1}\PYGdefault{p}{;}

\PYGdefault{c+cp}{\PYGdefaultZsh{}define MSCALE (LSCALE * .624 / .2250)}

\PYGdefault{c+cm}{/*\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}*/}

\PYGdefault{c+cm}{/* static power model results */}
\PYGdefault{n}{power\PYGdefaultZus{}result\PYGdefaultZus{}type} \PYGdefault{n}{power}\PYGdefault{p}{;}

\PYGdefault{k+kt}{int} \PYGdefault{n+nf}{pow2}\PYGdefault{p}{(}\PYGdefault{k+kt}{int} \PYGdefault{n}{x}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k}{return}\PYGdefault{p}{((}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{pow}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{2.0}\PYGdefault{p}{,(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{x}\PYGdefault{p}{));}
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{k+kt}{double} \PYGdefault{n}{logfour}\PYGdefault{p}{(}\PYGdefault{n}{x}\PYGdefault{p}{)}
     \PYGdefault{k+kt}{double} \PYGdefault{n}{x}\PYGdefault{p}{;}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k}{if} \PYGdefault{p}{(}\PYGdefault{n}{x}\PYGdefault{o}{\PYGdefaultZlt{}=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{)} \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}\PYGdefaultZpc{}e}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{x}\PYGdefault{p}{);}
  \PYGdefault{k}{return}\PYGdefault{p}{(} \PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)} \PYGdefault{p}{(}\PYGdefault{n}{log}\PYGdefault{p}{(}\PYGdefault{n}{x}\PYGdefault{p}{)}\PYGdefault{o}{/}\PYGdefault{n}{log}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{4.0}\PYGdefault{p}{))} \PYGdefault{p}{);}
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{c+cm}{/* safer pop count to validate the fast algorithm */}
\PYGdefault{k+kt}{int} \PYGdefault{n}{pop\PYGdefaultZus{}count\PYGdefaultZus{}slow}\PYGdefault{p}{(}\PYGdefault{k+kt}{quad\PYGdefaultZus{}t} \PYGdefault{n}{bits}\PYGdefault{p}{)}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{count} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{;} 
  \PYGdefault{k+kt}{quad\PYGdefaultZus{}t} \PYGdefault{n}{tmpbits} \PYGdefault{o}{=} \PYGdefault{n}{bits}\PYGdefault{p}{;} 
  \PYGdefault{k}{while} \PYGdefault{p}{(}\PYGdefault{n}{tmpbits}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}} 
    \PYGdefault{k}{if} \PYGdefault{p}{(}\PYGdefault{n}{tmpbits} \PYGdefault{o}{\PYGdefaultZam{}} \PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{++}\PYGdefault{n}{count}\PYGdefault{p}{;} 
    \PYGdefault{n}{tmpbits} \PYGdefault{o}{\PYGdefaultZgt{}\PYGdefaultZgt{}=} \PYGdefault{l+m+mi}{1}\PYGdefault{p}{;} 
  \PYGdefault{p}{\PYGdefaultZcb{}} 
  \PYGdefault{k}{return} \PYGdefault{n}{count}\PYGdefault{p}{;} 
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{c+cm}{/* fast pop count */}
\PYGdefault{k+kt}{int} \PYGdefault{n}{pop\PYGdefaultZus{}count}\PYGdefault{p}{(}\PYGdefault{k+kt}{quad\PYGdefaultZus{}t} \PYGdefault{n}{bits}\PYGdefault{p}{)}
\PYGdefault{p}{\PYGdefaultZob{}}
\PYGdefault{c+cp}{\PYGdefaultZsh{}define T unsigned long long}
\PYGdefault{c+cp}{\PYGdefaultZsh{}define ONES ((T)(\PYGdefaultZhy{}1)) }
\PYGdefault{c+cp}{\PYGdefaultZsh{}define TWO(k) ((T)1 \PYGdefaultZlt{}\PYGdefaultZlt{} (k)) }
\PYGdefault{c+cp}{\PYGdefaultZsh{}define CYCL(k) (ONES/(1 + (TWO(TWO(k))))) }
\PYGdefault{c+cp}{\PYGdefaultZsh{}define BSUM(x,k) ((x)+=(x) \PYGdefaultZgt{}\PYGdefaultZgt{} TWO(k), (x) \PYGdefaultZam{}= CYCL(k)) }
  \PYGdefault{k+kt}{quad\PYGdefaultZus{}t} \PYGdefault{n}{x} \PYGdefault{o}{=} \PYGdefault{n}{bits}\PYGdefault{p}{;} 
  \PYGdefault{n}{x} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{n}{x} \PYGdefault{o}{\PYGdefaultZam{}} \PYGdefault{n}{CYCL}\PYGdefault{p}{(}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{))} \PYGdefault{o}{+} \PYGdefault{p}{((}\PYGdefault{n}{x}\PYGdefault{o}{\PYGdefaultZgt{}\PYGdefaultZgt{}}\PYGdefault{n}{TWO}\PYGdefault{p}{(}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{))} \PYGdefault{o}{\PYGdefaultZam{}} \PYGdefault{n}{CYCL}\PYGdefault{p}{(}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{));} 
  \PYGdefault{n}{x} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{n}{x} \PYGdefault{o}{\PYGdefaultZam{}} \PYGdefault{n}{CYCL}\PYGdefault{p}{(}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{))} \PYGdefault{o}{+} \PYGdefault{p}{((}\PYGdefault{n}{x}\PYGdefault{o}{\PYGdefaultZgt{}\PYGdefaultZgt{}}\PYGdefault{n}{TWO}\PYGdefault{p}{(}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{))} \PYGdefault{o}{\PYGdefaultZam{}} \PYGdefault{n}{CYCL}\PYGdefault{p}{(}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{));} 
  \PYGdefault{n}{BSUM}\PYGdefault{p}{(}\PYGdefault{n}{x}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{);} 
  \PYGdefault{n}{BSUM}\PYGdefault{p}{(}\PYGdefault{n}{x}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{3}\PYGdefault{p}{);} 
  \PYGdefault{n}{BSUM}\PYGdefault{p}{(}\PYGdefault{n}{x}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{4}\PYGdefault{p}{);} 
  \PYGdefault{n}{BSUM}\PYGdefault{p}{(}\PYGdefault{n}{x}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{5}\PYGdefault{p}{);} 
  \PYGdefault{k}{return} \PYGdefault{n}{x}\PYGdefault{p}{;} 
\PYGdefault{p}{\PYGdefaultZcb{}}


\PYGdefault{k+kt}{int} \PYGdefault{n}{opcode\PYGdefaultZus{}length} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{8}\PYGdefault{p}{;}
\PYGdefault{k+kt}{int} \PYGdefault{n}{inst\PYGdefaultZus{}length} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{32}\PYGdefault{p}{;}

\PYGdefault{k}{extern} \PYGdefault{k+kt}{int} \PYGdefault{n}{ruu\PYGdefaultZus{}decode\PYGdefaultZus{}width}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{int} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{int} \PYGdefault{n}{ruu\PYGdefaultZus{}commit\PYGdefaultZus{}width}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{int} \PYGdefault{n}{RUU\PYGdefaultZus{}size}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{int} \PYGdefault{n}{LSQ\PYGdefaultZus{}size}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{int} \PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{int} \PYGdefault{n}{res\PYGdefaultZus{}ialu}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{int} \PYGdefault{n}{res\PYGdefaultZus{}fpalu}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{int} \PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{;}

\PYGdefault{k+kt}{int} \PYGdefault{n}{nvreg\PYGdefaultZus{}width}\PYGdefault{p}{;}
\PYGdefault{k+kt}{int} \PYGdefault{n}{npreg\PYGdefaultZus{}width}\PYGdefault{p}{;}

\PYGdefault{k}{extern} \PYGdefault{k+kt}{int} \PYGdefault{n}{bimod\PYGdefaultZus{}config}\PYGdefault{p}{[];}

\PYGdefault{k}{extern} \PYGdefault{k}{struct} \PYGdefault{k+kt}{cache\PYGdefaultZus{}t} \PYGdefault{o}{*}\PYGdefault{n}{cache\PYGdefaultZus{}dl1}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k}{struct} \PYGdefault{k+kt}{cache\PYGdefaultZus{}t} \PYGdefault{o}{*}\PYGdefault{n}{cache\PYGdefaultZus{}il1}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k}{struct} \PYGdefault{k+kt}{cache\PYGdefaultZus{}t} \PYGdefault{o}{*}\PYGdefault{n}{cache\PYGdefaultZus{}dl2}\PYGdefault{p}{;}

\PYGdefault{k}{extern} \PYGdefault{k}{struct} \PYGdefault{k+kt}{cache\PYGdefaultZus{}t} \PYGdefault{o}{*}\PYGdefault{n}{dtlb}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k}{struct} \PYGdefault{k+kt}{cache\PYGdefaultZus{}t} \PYGdefault{o}{*}\PYGdefault{n}{itlb}\PYGdefault{p}{;}

\PYGdefault{c+cm}{/* 2\PYGdefaultZhy{}level predictor config (\PYGdefaultZlt{}l1size\PYGdefaultZgt{} \PYGdefaultZlt{}l2size\PYGdefaultZgt{} \PYGdefaultZlt{}hist\PYGdefaultZus{}size\PYGdefaultZgt{} \PYGdefaultZlt{}xor\PYGdefaultZgt{}) */}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{int} \PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[];}

\PYGdefault{c+cm}{/* combining predictor config (\PYGdefaultZlt{}meta\PYGdefaultZus{}table\PYGdefaultZus{}size\PYGdefaultZgt{} */}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{int} \PYGdefault{n}{comb\PYGdefaultZus{}config}\PYGdefault{p}{[];}

\PYGdefault{c+cm}{/* return address stack (RAS) size */}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{int} \PYGdefault{n}{ras\PYGdefaultZus{}size}\PYGdefault{p}{;}

\PYGdefault{c+cm}{/* BTB predictor config (\PYGdefaultZlt{}num\PYGdefaultZus{}sets\PYGdefaultZgt{} \PYGdefaultZlt{}associativity\PYGdefaultZgt{}) */}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{int} \PYGdefault{n}{btb\PYGdefaultZus{}config}\PYGdefault{p}{[];}

\PYGdefault{k+kt}{double} \PYGdefault{n}{global\PYGdefaultZus{}clockcap}\PYGdefault{p}{;}

\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{rename\PYGdefaultZus{}power}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{bpred\PYGdefaultZus{}power}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{window\PYGdefaultZus{}power}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{lsq\PYGdefaultZus{}power}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{regfile\PYGdefaultZus{}power}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{icache\PYGdefaultZus{}power}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{dcache\PYGdefaultZus{}power}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{dcache2\PYGdefaultZus{}power}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{alu\PYGdefaultZus{}power}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{falu\PYGdefaultZus{}power}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{resultbus\PYGdefaultZus{}power}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{clock\PYGdefaultZus{}power}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{rename\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{icache\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{clock\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{rename\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{icache\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{clock\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{rename\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{icache\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{clock\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{;}

\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{last\PYGdefaultZus{}single\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{=} \PYGdefault{l+m+mf}{0.0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{last\PYGdefaultZus{}single\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{=} \PYGdefault{l+m+mf}{0.0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{last\PYGdefaultZus{}single\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3} \PYGdefault{o}{=} \PYGdefault{l+m+mf}{0.0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{current\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{current\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{current\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{;}

\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{max\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{=} \PYGdefault{l+m+mf}{0.0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{max\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{=} \PYGdefault{l+m+mf}{0.0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{double} \PYGdefault{n}{max\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3} \PYGdefault{o}{=} \PYGdefault{l+m+mf}{0.0}\PYGdefault{p}{;}

\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{rename\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{bpred\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{window\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{lsq\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{regfile\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{icache\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{dcache\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{dcache2\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{alu\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{ialu\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{falu\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{resultbus\PYGdefaultZus{}access}\PYGdefault{p}{;}

\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{window\PYGdefaultZus{}selection\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{window\PYGdefaultZus{}wakeup\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{window\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{lsq\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{lsq\PYGdefaultZus{}store\PYGdefaultZus{}data\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{lsq\PYGdefaultZus{}load\PYGdefaultZus{}data\PYGdefaultZus{}access}\PYGdefault{p}{;}

\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{window\PYGdefaultZus{}total\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{window\PYGdefaultZus{}num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{lsq\PYGdefaultZus{}total\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{lsq\PYGdefaultZus{}num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{regfile\PYGdefaultZus{}total\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{regfile\PYGdefaultZus{}num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{resultbus\PYGdefaultZus{}total\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{;}
\PYGdefault{k}{extern} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{resultbus\PYGdefaultZus{}num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{;}

\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{total\PYGdefaultZus{}rename\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{total\PYGdefaultZus{}bpred\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{total\PYGdefaultZus{}window\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{total\PYGdefaultZus{}lsq\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{total\PYGdefaultZus{}regfile\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{total\PYGdefaultZus{}icache\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{total\PYGdefaultZus{}dcache\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{total\PYGdefaultZus{}dcache2\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{total\PYGdefaultZus{}alu\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{total\PYGdefaultZus{}resultbus\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{max\PYGdefaultZus{}rename\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{max\PYGdefaultZus{}bpred\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{max\PYGdefaultZus{}window\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{max\PYGdefaultZus{}lsq\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{max\PYGdefaultZus{}regfile\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{max\PYGdefaultZus{}icache\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{max\PYGdefaultZus{}dcache\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{max\PYGdefaultZus{}dcache2\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{max\PYGdefaultZus{}alu\PYGdefaultZus{}access}\PYGdefault{p}{;}
\PYGdefault{k}{static} \PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{max\PYGdefaultZus{}resultbus\PYGdefaultZus{}access}\PYGdefault{p}{;}

\PYGdefault{k+kt}{void} \PYGdefault{n+nf}{clear\PYGdefaultZus{}access\PYGdefaultZus{}stats}\PYGdefault{p}{()}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{n}{rename\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{bpred\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{window\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{lsq\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{regfile\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{icache\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{dcache\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{dcache2\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{alu\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{ialu\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{falu\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{resultbus\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

  \PYGdefault{n}{window\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{window\PYGdefaultZus{}selection\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{window\PYGdefaultZus{}wakeup\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{lsq\PYGdefaultZus{}store\PYGdefaultZus{}data\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{lsq\PYGdefaultZus{}load\PYGdefaultZus{}data\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{lsq\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

  \PYGdefault{n}{window\PYGdefaultZus{}total\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{window\PYGdefaultZus{}num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{lsq\PYGdefaultZus{}total\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{lsq\PYGdefaultZus{}num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{regfile\PYGdefaultZus{}total\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{regfile\PYGdefaultZus{}num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{resultbus\PYGdefaultZus{}total\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{resultbus\PYGdefaultZus{}num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  
  \PYGdefault{c+cm}{/***********************************/}
  \PYGdefault{c+cm}{/* CS 203A Reset total             */}
  \PYGdefault{c+cm}{/***********************************/}
  \PYGdefault{n}{total} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{c+cm}{/* compute bitline activity factors which we use to scale bitline power }
\PYGdefault{c+cm}{   Here it is very important whether we assume 0\PYGdefaultZsq{}s or 1\PYGdefaultZsq{}s are}
\PYGdefault{c+cm}{   responsible for dissipating power in pre\PYGdefaultZhy{}charged stuctures. (since}
\PYGdefault{c+cm}{   most of the bits are 0\PYGdefaultZsq{}s, we assume the design is power\PYGdefaultZhy{}efficient}
\PYGdefault{c+cm}{   enough to allow 0\PYGdefaultZsq{}s to \PYGdefaultZus{}not\PYGdefaultZus{} discharge }
\PYGdefault{c+cm}{*/}
\PYGdefault{k+kt}{double} \PYGdefault{n+nf}{compute\PYGdefaultZus{}af}\PYGdefault{p}{(}\PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{,}\PYGdefault{k+kt}{counter\PYGdefaultZus{}t} \PYGdefault{n}{total\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{,}\PYGdefault{k+kt}{int} \PYGdefault{n}{pop\PYGdefaultZus{}width}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{avg\PYGdefaultZus{}pop\PYGdefaultZus{}count}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{af}\PYGdefault{p}{,}\PYGdefault{n}{af\PYGdefaultZus{}b}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{)}
    \PYGdefault{n}{avg\PYGdefaultZus{}pop\PYGdefaultZus{}count} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{total\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle} \PYGdefault{o}{/} \PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{;}
  \PYGdefault{k}{else}
    \PYGdefault{n}{avg\PYGdefaultZus{}pop\PYGdefaultZus{}count} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

  \PYGdefault{n}{af} \PYGdefault{o}{=} \PYGdefault{n}{avg\PYGdefaultZus{}pop\PYGdefaultZus{}count} \PYGdefault{o}{/} \PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{pop\PYGdefaultZus{}width}\PYGdefault{p}{;}
  
  \PYGdefault{n}{af\PYGdefaultZus{}b} \PYGdefault{o}{=} \PYGdefault{l+m+mf}{1.0} \PYGdefault{o}{\PYGdefaultZhy{}} \PYGdefault{n}{af}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/*  printf(\PYGdefaultZdq{}af == \PYGdefaultZpc{}f\PYGdefaultZpc{}\PYGdefaultZpc{}, af\PYGdefaultZus{}b == \PYGdefaultZpc{}f\PYGdefaultZpc{}\PYGdefaultZpc{}, total\PYGdefaultZus{}pop == \PYGdefaultZpc{}d, num\PYGdefaultZus{}pop == \PYGdefaultZpc{}d\PYGdefaultZbs{}n\PYGdefaultZdq{},100*af,100*af\PYGdefaultZus{}b,total\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle,num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle); */}

  \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{af\PYGdefaultZus{}b}\PYGdefault{p}{);}
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{c+cm}{/* compute power statistics on each cycle, for each conditional clocking style.  Obviously}
\PYGdefault{c+cm}{most of the speed penalty comes here, so if you don\PYGdefaultZsq{}t want per\PYGdefaultZhy{}cycle power estimates}
\PYGdefault{c+cm}{you could post\PYGdefaultZhy{}process }

\PYGdefault{c+cm}{See README.wattch for details on the various clock gating styles.}

\PYGdefault{c+cm}{*/}
\PYGdefault{k+kt}{void} \PYGdefault{n+nf}{update\PYGdefaultZus{}power\PYGdefaultZus{}stats}\PYGdefault{p}{()}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{window\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{p}{,} \PYGdefault{n}{lsq\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{p}{,} \PYGdefault{n}{regfile\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{p}{,} \PYGdefault{n}{resultbus\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{p}{;}

\PYGdefault{c+cp}{\PYGdefaultZsh{}ifdef DYNAMIC\PYGdefaultZus{}AF}
  \PYGdefault{n}{window\PYGdefaultZus{}af\PYGdefaultZus{}b} \PYGdefault{o}{=} \PYGdefault{n}{compute\PYGdefaultZus{}af}\PYGdefault{p}{(}\PYGdefault{n}{window\PYGdefaultZus{}num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{,}\PYGdefault{n}{window\PYGdefaultZus{}total\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{);}
  \PYGdefault{n}{lsq\PYGdefaultZus{}af\PYGdefaultZus{}b} \PYGdefault{o}{=} \PYGdefault{n}{compute\PYGdefaultZus{}af}\PYGdefault{p}{(}\PYGdefault{n}{lsq\PYGdefaultZus{}num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{,}\PYGdefault{n}{lsq\PYGdefaultZus{}total\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{);}
  \PYGdefault{n}{regfile\PYGdefaultZus{}af\PYGdefaultZus{}b} \PYGdefault{o}{=} \PYGdefault{n}{compute\PYGdefaultZus{}af}\PYGdefault{p}{(}\PYGdefault{n}{regfile\PYGdefaultZus{}num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{,}\PYGdefault{n}{regfile\PYGdefaultZus{}total\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{);}
  \PYGdefault{n}{resultbus\PYGdefaultZus{}af\PYGdefaultZus{}b} \PYGdefault{o}{=} \PYGdefault{n}{compute\PYGdefaultZus{}af}\PYGdefault{p}{(}\PYGdefault{n}{resultbus\PYGdefaultZus{}num\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{,}\PYGdefault{n}{resultbus\PYGdefaultZus{}total\PYGdefaultZus{}pop\PYGdefaultZus{}count\PYGdefaultZus{}cycle}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{);}
\PYGdefault{c+cp}{\PYGdefaultZsh{}endif}
  
  \PYGdefault{n}{rename\PYGdefaultZus{}power}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rename\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{n}{bpred\PYGdefaultZus{}power}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{bpred\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{n}{window\PYGdefaultZus{}power}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{window\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{n}{lsq\PYGdefaultZus{}power}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{n}{regfile\PYGdefaultZus{}power}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{regfile\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{n}{icache\PYGdefaultZus{}power}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{icache\PYGdefaultZus{}power}\PYGdefault{o}{+}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{itlb}\PYGdefault{p}{;}
  \PYGdefault{n}{dcache\PYGdefaultZus{}power}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dcache\PYGdefaultZus{}power}\PYGdefault{o}{+}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dtlb}\PYGdefault{p}{;}
  \PYGdefault{n}{dcache2\PYGdefaultZus{}power}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dcache2\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{n}{alu\PYGdefaultZus{}power}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{ialu\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{falu\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{n}{falu\PYGdefaultZus{}power}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{falu\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{n}{resultbus\PYGdefaultZus{}power}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{resultbus}\PYGdefault{p}{;}
  \PYGdefault{n}{clock\PYGdefaultZus{}power}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{clock\PYGdefaultZus{}power}\PYGdefault{p}{;}

  \PYGdefault{n}{total\PYGdefaultZus{}rename\PYGdefaultZus{}access}\PYGdefault{o}{+=}\PYGdefault{n}{rename\PYGdefaultZus{}access}\PYGdefault{p}{;}
  \PYGdefault{n}{total\PYGdefaultZus{}bpred\PYGdefaultZus{}access}\PYGdefault{o}{+=}\PYGdefault{n}{bpred\PYGdefaultZus{}access}\PYGdefault{p}{;}
  \PYGdefault{n}{total\PYGdefaultZus{}window\PYGdefaultZus{}access}\PYGdefault{o}{+=}\PYGdefault{n}{window\PYGdefaultZus{}access}\PYGdefault{p}{;}
  \PYGdefault{n}{total\PYGdefaultZus{}lsq\PYGdefaultZus{}access}\PYGdefault{o}{+=}\PYGdefault{n}{lsq\PYGdefaultZus{}access}\PYGdefault{p}{;}
  \PYGdefault{n}{total\PYGdefaultZus{}regfile\PYGdefaultZus{}access}\PYGdefault{o}{+=}\PYGdefault{n}{regfile\PYGdefaultZus{}access}\PYGdefault{p}{;}
  \PYGdefault{n}{total\PYGdefaultZus{}icache\PYGdefaultZus{}access}\PYGdefault{o}{+=}\PYGdefault{n}{icache\PYGdefaultZus{}access}\PYGdefault{p}{;}
  \PYGdefault{n}{total\PYGdefaultZus{}dcache\PYGdefaultZus{}access}\PYGdefault{o}{+=}\PYGdefault{n}{dcache\PYGdefaultZus{}access}\PYGdefault{p}{;}
  \PYGdefault{n}{total\PYGdefaultZus{}dcache2\PYGdefaultZus{}access}\PYGdefault{o}{+=}\PYGdefault{n}{dcache2\PYGdefaultZus{}access}\PYGdefault{p}{;}
  \PYGdefault{n}{total\PYGdefaultZus{}alu\PYGdefaultZus{}access}\PYGdefault{o}{+=}\PYGdefault{n}{alu\PYGdefaultZus{}access}\PYGdefault{p}{;}
  \PYGdefault{n}{total\PYGdefaultZus{}resultbus\PYGdefaultZus{}access}\PYGdefault{o}{+=}\PYGdefault{n}{resultbus\PYGdefaultZus{}access}\PYGdefault{p}{;}

  \PYGdefault{n}{max\PYGdefaultZus{}rename\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{n}{MAX}\PYGdefault{p}{(}\PYGdefault{n}{rename\PYGdefaultZus{}access}\PYGdefault{p}{,}\PYGdefault{n}{max\PYGdefaultZus{}rename\PYGdefaultZus{}access}\PYGdefault{p}{);}
  \PYGdefault{n}{max\PYGdefaultZus{}bpred\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{n}{MAX}\PYGdefault{p}{(}\PYGdefault{n}{bpred\PYGdefaultZus{}access}\PYGdefault{p}{,}\PYGdefault{n}{max\PYGdefaultZus{}bpred\PYGdefaultZus{}access}\PYGdefault{p}{);}
  \PYGdefault{n}{max\PYGdefaultZus{}window\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{n}{MAX}\PYGdefault{p}{(}\PYGdefault{n}{window\PYGdefaultZus{}access}\PYGdefault{p}{,}\PYGdefault{n}{max\PYGdefaultZus{}window\PYGdefaultZus{}access}\PYGdefault{p}{);}
  \PYGdefault{n}{max\PYGdefaultZus{}lsq\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{n}{MAX}\PYGdefault{p}{(}\PYGdefault{n}{lsq\PYGdefaultZus{}access}\PYGdefault{p}{,}\PYGdefault{n}{max\PYGdefaultZus{}lsq\PYGdefaultZus{}access}\PYGdefault{p}{);}
  \PYGdefault{n}{max\PYGdefaultZus{}regfile\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{n}{MAX}\PYGdefault{p}{(}\PYGdefault{n}{regfile\PYGdefaultZus{}access}\PYGdefault{p}{,}\PYGdefault{n}{max\PYGdefaultZus{}regfile\PYGdefaultZus{}access}\PYGdefault{p}{);}
  \PYGdefault{n}{max\PYGdefaultZus{}icache\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{n}{MAX}\PYGdefault{p}{(}\PYGdefault{n}{icache\PYGdefaultZus{}access}\PYGdefault{p}{,}\PYGdefault{n}{max\PYGdefaultZus{}icache\PYGdefaultZus{}access}\PYGdefault{p}{);}
  \PYGdefault{n}{max\PYGdefaultZus{}dcache\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{n}{MAX}\PYGdefault{p}{(}\PYGdefault{n}{dcache\PYGdefaultZus{}access}\PYGdefault{p}{,}\PYGdefault{n}{max\PYGdefaultZus{}dcache\PYGdefaultZus{}access}\PYGdefault{p}{);}
  \PYGdefault{n}{max\PYGdefaultZus{}dcache2\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{n}{MAX}\PYGdefault{p}{(}\PYGdefault{n}{dcache2\PYGdefaultZus{}access}\PYGdefault{p}{,}\PYGdefault{n}{max\PYGdefaultZus{}dcache2\PYGdefaultZus{}access}\PYGdefault{p}{);}
  \PYGdefault{n}{max\PYGdefaultZus{}alu\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{n}{MAX}\PYGdefault{p}{(}\PYGdefault{n}{alu\PYGdefaultZus{}access}\PYGdefault{p}{,}\PYGdefault{n}{max\PYGdefaultZus{}alu\PYGdefaultZus{}access}\PYGdefault{p}{);}
  \PYGdefault{n}{max\PYGdefaultZus{}resultbus\PYGdefaultZus{}access}\PYGdefault{o}{=}\PYGdefault{n}{MAX}\PYGdefault{p}{(}\PYGdefault{n}{resultbus\PYGdefaultZus{}access}\PYGdefault{p}{,}\PYGdefault{n}{max\PYGdefaultZus{}resultbus\PYGdefaultZus{}access}\PYGdefault{p}{);}
      
  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{rename\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{rename\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rename\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{rename\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{rename\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}decode\PYGdefaultZus{}width}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rename\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{rename\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{rename\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}decode\PYGdefaultZus{}width}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rename\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else} 
    \PYGdefault{n}{rename\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rename\PYGdefaultZus{}power}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{bpred\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{bpred\PYGdefaultZus{}access} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{l+m+mi}{2}\PYGdefault{p}{)}
      \PYGdefault{n}{bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{bpred\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{k}{else}
      \PYGdefault{n}{bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{bpred\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{l+m+mf}{2.0}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{bpred\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{bpred\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{l+m+mf}{2.0}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{bpred\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{bpred\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{l+m+mf}{2.0}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{bpred\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{bpred\PYGdefaultZus{}power}\PYGdefault{p}{;}

\PYGdefault{c+cp}{\PYGdefaultZsh{}ifdef STATIC\PYGdefaultZus{}AF}
  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{window\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{window\PYGdefaultZus{}preg\PYGdefaultZus{}access} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{l+m+mi}{3}\PYGdefault{o}{*}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{)}
      \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rs\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{k}{else}
      \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{window\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{3.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rs\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{window\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{3.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rs\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{window\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{3.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rs\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rs\PYGdefaultZus{}power}\PYGdefault{p}{;}
\PYGdefault{c+cp}{\PYGdefaultZsh{}elif defined(DYNAMIC\PYGdefaultZus{}AF)}
  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{window\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{window\PYGdefaultZus{}preg\PYGdefaultZus{}access} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{l+m+mi}{3}\PYGdefault{o}{*}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{)}
      \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rs\PYGdefaultZus{}power\PYGdefaultZus{}nobit} \PYGdefault{o}{+} \PYGdefault{n}{window\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rs\PYGdefaultZus{}bitline}\PYGdefault{p}{;}
    \PYGdefault{k}{else}
      \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{window\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{3.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rs\PYGdefaultZus{}power\PYGdefaultZus{}nobit} \PYGdefault{o}{+} \PYGdefault{n}{window\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rs\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
    \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{window\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{3.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rs\PYGdefaultZus{}power\PYGdefaultZus{}nobit} \PYGdefault{o}{+} \PYGdefault{n}{window\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rs\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
    \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{window\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{3.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rs\PYGdefaultZus{}power\PYGdefaultZus{}nobit} \PYGdefault{o}{+} \PYGdefault{n}{window\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rs\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{rs\PYGdefaultZus{}power}\PYGdefault{p}{;}
\PYGdefault{c+cp}{\PYGdefaultZsh{}else}
  \PYGdefault{n}{panic}\PYGdefault{p}{(}\PYGdefault{l+s}{\PYGdefaultZdq{}no AF\PYGdefaultZhy{}style defined}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
\PYGdefault{c+cp}{\PYGdefaultZsh{}endif}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{window\PYGdefaultZus{}selection\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{window\PYGdefaultZus{}selection\PYGdefaultZus{}access} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{)}
      \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{selection}\PYGdefault{p}{;}
    \PYGdefault{k}{else}
      \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{window\PYGdefaultZus{}selection\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{selection}\PYGdefault{p}{;}
    \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{window\PYGdefaultZus{}selection\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{selection}\PYGdefault{p}{;}
    \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{window\PYGdefaultZus{}selection\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{selection}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{selection}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{window\PYGdefaultZus{}wakeup\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{window\PYGdefaultZus{}wakeup\PYGdefaultZus{}access} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{)}
      \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{wakeup\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{k}{else}
      \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{window\PYGdefaultZus{}wakeup\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{wakeup\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{window\PYGdefaultZus{}wakeup\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{wakeup\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{window\PYGdefaultZus{}wakeup\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{wakeup\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{wakeup\PYGdefaultZus{}power}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}access} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{)}
      \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{k}{else}
      \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}power}\PYGdefault{p}{;}

\PYGdefault{c+cp}{\PYGdefaultZsh{}ifdef STATIC\PYGdefaultZus{}AF}
  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{lsq\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{lsq\PYGdefaultZus{}preg\PYGdefaultZus{}access} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{)}
      \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{k}{else}
      \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{lsq\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{lsq\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{lsq\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power}\PYGdefault{p}{;}
\PYGdefault{c+cp}{\PYGdefaultZsh{}else}
  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{lsq\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{lsq\PYGdefaultZus{}preg\PYGdefaultZus{}access} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{)}
      \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power\PYGdefaultZus{}nobit} \PYGdefault{o}{+} \PYGdefault{n}{lsq\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}bitline}\PYGdefault{p}{;}
    \PYGdefault{k}{else}
      \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{lsq\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power\PYGdefaultZus{}nobit} \PYGdefault{o}{+} \PYGdefault{n}{lsq\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
    \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{lsq\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power\PYGdefaultZus{}nobit} \PYGdefault{o}{+} \PYGdefault{n}{lsq\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
    \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{lsq\PYGdefaultZus{}preg\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power\PYGdefaultZus{}nobit} \PYGdefault{o}{+} \PYGdefault{n}{lsq\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power}\PYGdefault{p}{;}
\PYGdefault{c+cp}{\PYGdefaultZsh{}endif}

\PYGdefault{c+cp}{\PYGdefaultZsh{}ifdef STATIC\PYGdefaultZus{}AF}
  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{regfile\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{regfile\PYGdefaultZus{}access} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{p}{(}\PYGdefault{l+m+mf}{3.0}\PYGdefault{o}{*}\PYGdefault{n}{ruu\PYGdefaultZus{}commit\PYGdefaultZus{}width}\PYGdefault{p}{))}
      \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{regfile\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{k}{else}
      \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{regfile\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{3.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}commit\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{regfile\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{regfile\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{3.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}commit\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{regfile\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{regfile\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{3.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}commit\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{regfile\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{regfile\PYGdefaultZus{}power}\PYGdefault{p}{;}
\PYGdefault{c+cp}{\PYGdefaultZsh{}else}
  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{regfile\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{regfile\PYGdefaultZus{}access} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{p}{(}\PYGdefault{l+m+mf}{3.0}\PYGdefault{o}{*}\PYGdefault{n}{ruu\PYGdefaultZus{}commit\PYGdefaultZus{}width}\PYGdefault{p}{))}
      \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}nobit} \PYGdefault{o}{+} \PYGdefault{n}{regfile\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{regfile\PYGdefaultZus{}bitline}\PYGdefault{p}{;}
    \PYGdefault{k}{else}
      \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{regfile\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{3.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}commit\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}nobit} \PYGdefault{o}{+} \PYGdefault{n}{regfile\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{regfile\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
    \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{regfile\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{3.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}commit\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}nobit} \PYGdefault{o}{+} \PYGdefault{n}{regfile\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{regfile\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
    \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{regfile\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{3.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}commit\PYGdefaultZus{}width}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}nobit} \PYGdefault{o}{+} \PYGdefault{n}{regfile\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{regfile\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{regfile\PYGdefaultZus{}power}\PYGdefault{p}{;}
\PYGdefault{c+cp}{\PYGdefaultZsh{}endif}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{icache\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{c+cm}{/* don\PYGdefaultZsq{}t scale icache because we assume 1 line is fetched, unless fetch stalls */}
    \PYGdefault{n}{icache\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{icache\PYGdefaultZus{}power}\PYGdefault{o}{+}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{itlb}\PYGdefault{p}{;}
    \PYGdefault{n}{icache\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{icache\PYGdefaultZus{}power}\PYGdefault{o}{+}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{itlb}\PYGdefault{p}{;}
    \PYGdefault{n}{icache\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{icache\PYGdefaultZus{}power}\PYGdefault{o}{+}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{itlb}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{icache\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{icache\PYGdefaultZus{}power}\PYGdefault{o}{+}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{itlb}\PYGdefault{p}{);}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{dcache\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{dcache\PYGdefaultZus{}access} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{)}
      \PYGdefault{n}{dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dcache\PYGdefaultZus{}power}\PYGdefault{o}{+}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dtlb}\PYGdefault{p}{;}
    \PYGdefault{k}{else}
      \PYGdefault{n}{dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{dcache\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dcache\PYGdefaultZus{}power} \PYGdefault{o}{+}
						     \PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dtlb}\PYGdefault{p}{);}
    \PYGdefault{n}{dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{dcache\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dcache\PYGdefaultZus{}power} \PYGdefault{o}{+}
						   \PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dtlb}\PYGdefault{p}{);}
    \PYGdefault{n}{dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{dcache\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dcache\PYGdefaultZus{}power} \PYGdefault{o}{+}
						   \PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dtlb}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dcache\PYGdefaultZus{}power}\PYGdefault{o}{+}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dtlb}\PYGdefault{p}{);}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{dcache2\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{dcache2\PYGdefaultZus{}access} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{)}
      \PYGdefault{n}{dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dcache2\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{k}{else}
      \PYGdefault{n}{dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{dcache2\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dcache2\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{dcache2\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dcache2\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{dcache2\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dcache2\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{dcache2\PYGdefaultZus{}power}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{alu\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{ialu\PYGdefaultZus{}access}\PYGdefault{p}{)}
      \PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{ialu\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{k}{else}
      \PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{ialu\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{falu\PYGdefaultZus{}access}\PYGdefault{p}{)}
      \PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{falu\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{k}{else}
      \PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{falu\PYGdefaultZus{}power}\PYGdefault{p}{;}

    \PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ialu\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}ialu}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{ialu\PYGdefaultZus{}power} \PYGdefault{o}{+}
      \PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{falu\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}fpalu}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{falu\PYGdefaultZus{}power}\PYGdefault{p}{;}
    \PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ialu\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}ialu}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{ialu\PYGdefaultZus{}power} \PYGdefault{o}{+}
      \PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{falu\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{res\PYGdefaultZus{}fpalu}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{falu\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{ialu\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{falu\PYGdefaultZus{}power}\PYGdefault{p}{);}

\PYGdefault{c+cp}{\PYGdefaultZsh{}ifdef STATIC\PYGdefaultZus{}AF}
  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{resultbus\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{assert}\PYGdefault{p}{(}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width} \PYGdefault{o}{!=} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{);}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{resultbus\PYGdefaultZus{}access} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
      \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{resultbus}\PYGdefault{p}{;}
    \PYGdefault{p}{\PYGdefaultZcb{}}
    \PYGdefault{k}{else} \PYGdefault{p}{\PYGdefaultZob{}}
      \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{resultbus\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{resultbus}\PYGdefault{p}{;}
    \PYGdefault{p}{\PYGdefaultZcb{}}
    \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{resultbus\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{resultbus}\PYGdefault{p}{;}
    \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{resultbus\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{resultbus}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{resultbus}\PYGdefault{p}{;}
\PYGdefault{c+cp}{\PYGdefaultZsh{}else}
  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{resultbus\PYGdefaultZus{}access}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{assert}\PYGdefault{p}{(}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width} \PYGdefault{o}{!=} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{);}
    \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{resultbus\PYGdefaultZus{}access} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
      \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{resultbus\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{resultbus}\PYGdefault{p}{;}
    \PYGdefault{p}{\PYGdefaultZcb{}}
    \PYGdefault{k}{else} \PYGdefault{p}{\PYGdefaultZob{}}
      \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{resultbus\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{resultbus\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{resultbus}\PYGdefault{p}{;}
    \PYGdefault{p}{\PYGdefaultZcb{}}
    \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{resultbus\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{resultbus\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{resultbus}\PYGdefault{p}{;}
    \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{resultbus\PYGdefaultZus{}access}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{resultbus\PYGdefaultZus{}af\PYGdefaultZus{}b}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{resultbus}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{else}
    \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{turnoff\PYGdefaultZus{}factor}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{resultbus}\PYGdefault{p}{;}
\PYGdefault{c+cp}{\PYGdefaultZsh{}endif}

  \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{rename\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{bpred\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{window\PYGdefaultZus{}power} \PYGdefault{o}{+} 
    \PYGdefault{n}{lsq\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{regfile\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{icache\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{dcache\PYGdefaultZus{}power} \PYGdefault{o}{+}
    \PYGdefault{n}{alu\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{resultbus\PYGdefaultZus{}power}\PYGdefault{p}{;}

  \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{=} \PYGdefault{n}{rename\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{+} \PYGdefault{n}{bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{+} 
    \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{+} \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{+} \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{+} 
    \PYGdefault{n}{icache\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{+} \PYGdefault{n}{dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{+} \PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{+} 
    \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{;}

  \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{=} \PYGdefault{n}{rename\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{+} \PYGdefault{n}{bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{+} 
    \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{+} \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{+} \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{+} 
    \PYGdefault{n}{icache\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{+} \PYGdefault{n}{dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{+} \PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{+} 
    \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{;}

  \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3} \PYGdefault{o}{=} \PYGdefault{n}{rename\PYGdefaultZus{}power\PYGdefaultZus{}cc3} \PYGdefault{o}{+} \PYGdefault{n}{bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc3} \PYGdefault{o}{+} 
    \PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc3} \PYGdefault{o}{+} \PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3} \PYGdefault{o}{+} \PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc3} \PYGdefault{o}{+} 
    \PYGdefault{n}{icache\PYGdefaultZus{}power\PYGdefaultZus{}cc3} \PYGdefault{o}{+} \PYGdefault{n}{dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc3} \PYGdefault{o}{+} \PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc3} \PYGdefault{o}{+} 
    \PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{;}

  \PYGdefault{n}{clock\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{clock\PYGdefaultZus{}power}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{clock\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{clock\PYGdefaultZus{}power}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{clock\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{+=}\PYGdefault{n}{power}\PYGdefault{p}{.}\PYGdefault{n}{clock\PYGdefaultZus{}power}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power}\PYGdefault{p}{);}

  \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{+=} \PYGdefault{n}{clock\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{;}
  \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{+=} \PYGdefault{n}{clock\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{;}
  \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3} \PYGdefault{o}{+=} \PYGdefault{n}{clock\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{;}

  \PYGdefault{n}{current\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{=} \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1}
    \PYGdefault{o}{\PYGdefaultZhy{}}\PYGdefault{n}{last\PYGdefaultZus{}single\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{;}
  \PYGdefault{n}{current\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{=} \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2}
    \PYGdefault{o}{\PYGdefaultZhy{}}\PYGdefault{n}{last\PYGdefaultZus{}single\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{;}
  \PYGdefault{n}{current\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3} \PYGdefault{o}{=} \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3}
    \PYGdefault{o}{\PYGdefaultZhy{}}\PYGdefault{n}{last\PYGdefaultZus{}single\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{;}

  \PYGdefault{n}{max\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{=} \PYGdefault{n}{MAX}\PYGdefault{p}{(}\PYGdefault{n}{max\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{,}\PYGdefault{n}{current\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{);}
  \PYGdefault{n}{max\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{=} \PYGdefault{n}{MAX}\PYGdefault{p}{(}\PYGdefault{n}{max\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{,}\PYGdefault{n}{current\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{);}
  \PYGdefault{n}{max\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3} \PYGdefault{o}{=} \PYGdefault{n}{MAX}\PYGdefault{p}{(}\PYGdefault{n}{max\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{,}\PYGdefault{n}{current\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{);}

  \PYGdefault{n}{last\PYGdefaultZus{}single\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{=} \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{;}
  \PYGdefault{n}{last\PYGdefaultZus{}single\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{=} \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{;}
  \PYGdefault{n}{last\PYGdefaultZus{}single\PYGdefaultZus{}total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3} \PYGdefault{o}{=} \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{;}
	
  \PYGdefault{c+cm}{/********************************************************************************/}
  \PYGdefault{c+cm}{/* CS 203A Computing total power per cycle                                      */}
  \PYGdefault{c+cm}{/********************************************************************************/}	
  \PYGdefault{n}{total} \PYGdefault{o}{+=} \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1} \PYGdefault{o}{+} \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2} \PYGdefault{o}{+} \PYGdefault{n}{total\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/********************************************************************************/}	
  \PYGdefault{c+cm}{/*                                                                              */}
  \PYGdefault{c+cm}{/********************************************************************************/}	
  
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{k+kt}{void}
\PYGdefault{n+nf}{power\PYGdefaultZus{}reg\PYGdefaultZus{}stats}\PYGdefault{p}{(}\PYGdefault{k}{struct} \PYGdefault{k+kt}{stat\PYGdefaultZus{}sdb\PYGdefaultZus{}t} \PYGdefault{o}{*}\PYGdefault{n}{sdb}\PYGdefault{p}{)}	\PYGdefault{c+cm}{/* stats database */}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}rename\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of rename unit\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{rename\PYGdefaultZus{}power}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}bpred\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of bpred unit\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{bpred\PYGdefaultZus{}power}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}window\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of instruction window\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{window\PYGdefaultZus{}power}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}lsq\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of load/store queue\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{lsq\PYGdefaultZus{}power}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}regfile\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of arch. regfile\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{regfile\PYGdefaultZus{}power}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}icache\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of icache\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{icache\PYGdefaultZus{}power}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of dcache\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{dcache\PYGdefaultZus{}power}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache2\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of dcache2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}power}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}alu\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of alu\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{alu\PYGdefaultZus{}power}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}falu\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of falu\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{falu\PYGdefaultZus{}power}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}resultbus\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of resultbus\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{resultbus\PYGdefaultZus{}power}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}clock\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of clock\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{clock\PYGdefaultZus{}power}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}rename\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of rename unit\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}rename\PYGdefaultZus{}power/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}bpred\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of bpred unit\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}bpred\PYGdefaultZus{}power/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}window\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of instruction window\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}window\PYGdefaultZus{}power/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}lsq\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of lsq\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}lsq\PYGdefaultZus{}power/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}regfile\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of arch. regfile\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}regfile\PYGdefaultZus{}power/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}icache\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of icache\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}icache\PYGdefaultZus{}power/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}dcache\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of dcache\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache\PYGdefaultZus{}power/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}dcache2\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of dcache2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache2\PYGdefaultZus{}power/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}alu\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of alu\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}alu\PYGdefaultZus{}power/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}falu\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of falu\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}falu\PYGdefaultZus{}power/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}resultbus\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of resultbus\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}resultbus\PYGdefaultZus{}power/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}clock\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of clock\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}clock\PYGdefaultZus{}power/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}fetch\PYGdefaultZus{}stage\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of fetch stage\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}icache\PYGdefaultZus{}power + bpred\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dispatch\PYGdefaultZus{}stage\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of dispatch stage\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}rename\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}issue\PYGdefaultZus{}stage\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of issue stage\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}resultbus\PYGdefaultZus{}power + alu\PYGdefaultZus{}power + dcache\PYGdefaultZus{}power + dcache2\PYGdefaultZus{}power + window\PYGdefaultZus{}power + lsq\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}fetch\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average power of fetch unit per cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}(icache\PYGdefaultZus{}power + bpred\PYGdefaultZus{}power)/ sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{c+cm}{/* format */}\PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}dispatch\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average power of dispatch unit per cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power)/ sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{c+cm}{/* format */}\PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}issue\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average power of issue unit per cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}(resultbus\PYGdefaultZus{}power + alu\PYGdefaultZus{}power + dcache\PYGdefaultZus{}power + dcache2\PYGdefaultZus{}power + window\PYGdefaultZus{}power + lsq\PYGdefaultZus{}power)/ sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{c+cm}{/* format */}\PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power per cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power + bpred\PYGdefaultZus{}power + window\PYGdefaultZus{}power + lsq\PYGdefaultZus{}power + regfile\PYGdefaultZus{}power + icache\PYGdefaultZus{}power  + resultbus\PYGdefaultZus{}power + clock\PYGdefaultZus{}power + alu\PYGdefaultZus{}power + dcache\PYGdefaultZus{}power + dcache2\PYGdefaultZus{}power)\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}total\PYGdefaultZus{}power\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average total power per cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power + bpred\PYGdefaultZus{}power + window\PYGdefaultZus{}power + lsq\PYGdefaultZus{}power + regfile\PYGdefaultZus{}power + icache\PYGdefaultZus{}power + resultbus\PYGdefaultZus{}power + clock\PYGdefaultZus{}power + alu\PYGdefaultZus{}power + dcache\PYGdefaultZus{}power + dcache2\PYGdefaultZus{}power)/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}total\PYGdefaultZus{}power\PYGdefaultZus{}cycle\PYGdefaultZus{}nofp\PYGdefaultZus{}nod2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average total power per cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power + bpred\PYGdefaultZus{}power + window\PYGdefaultZus{}power + lsq\PYGdefaultZus{}power + regfile\PYGdefaultZus{}power + icache\PYGdefaultZus{}power + resultbus\PYGdefaultZus{}power + clock\PYGdefaultZus{}power + alu\PYGdefaultZus{}power + dcache\PYGdefaultZus{}power \PYGdefaultZhy{} falu\PYGdefaultZus{}power )/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}total\PYGdefaultZus{}power\PYGdefaultZus{}insn\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average total power per insn\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power + bpred\PYGdefaultZus{}power + window\PYGdefaultZus{}power + lsq\PYGdefaultZus{}power + regfile\PYGdefaultZus{}power + icache\PYGdefaultZus{}power + resultbus\PYGdefaultZus{}power + clock\PYGdefaultZus{}power + alu\PYGdefaultZus{}power + dcache\PYGdefaultZus{}power + dcache2\PYGdefaultZus{}power)/sim\PYGdefaultZus{}total\PYGdefaultZus{}insn\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}total\PYGdefaultZus{}power\PYGdefaultZus{}insn\PYGdefaultZus{}nofp\PYGdefaultZus{}nod2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average total power per insn\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power + bpred\PYGdefaultZus{}power + window\PYGdefaultZus{}power + lsq\PYGdefaultZus{}power + regfile\PYGdefaultZus{}power + icache\PYGdefaultZus{}power + resultbus\PYGdefaultZus{}power + clock\PYGdefaultZus{}power + alu\PYGdefaultZus{}power + dcache\PYGdefaultZus{}power \PYGdefaultZhy{} falu\PYGdefaultZus{}power )/sim\PYGdefaultZus{}total\PYGdefaultZus{}insn\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}rename\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of rename unit\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{rename\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of bpred unit\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}window\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of instruction window\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of lsq\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of arch. regfile\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}icache\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of icache\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{icache\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of dcache\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of dcache2\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}alu\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of alu\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of resultbus\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}clock\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of clock\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{clock\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}rename\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of rename unit\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}rename\PYGdefaultZus{}power\PYGdefaultZus{}cc1/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of bpred unit\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc1/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}window\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of instruction window\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}window\PYGdefaultZus{}power\PYGdefaultZus{}cc1/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of lsq\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of arch. regfile\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc1/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}icache\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of icache\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}icache\PYGdefaultZus{}power\PYGdefaultZus{}cc1/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of dcache\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc1/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of dcache2\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc1/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}alu\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of alu\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}alu\PYGdefaultZus{}power\PYGdefaultZus{}cc1/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of resultbus\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc1/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}clock\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of clock\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}clock\PYGdefaultZus{}power\PYGdefaultZus{}cc1/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}fetch\PYGdefaultZus{}stage\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of fetch stage\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}icache\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dispatch\PYGdefaultZus{}stage\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of dispatch stage\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}rename\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}issue\PYGdefaultZus{}stage\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of issue stage\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + alu\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + window\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}fetch\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average power of fetch unit per cycle\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}(icache\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc1)/ sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{c+cm}{/* format */}\PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}dispatch\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average power of dispatch unit per cycle\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power\PYGdefaultZus{}cc1)/ sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{c+cm}{/* format */}\PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}issue\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average power of issue unit per cycle\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}(resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + alu\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + window\PYGdefaultZus{}power\PYGdefaultZus{}cc1)/ sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{c+cm}{/* format */}\PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}power\PYGdefaultZus{}cycle\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power per cycle\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + window\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + icache\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + clock\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + alu\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc1)\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}total\PYGdefaultZus{}power\PYGdefaultZus{}cycle\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average total power per cycle\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + window\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + icache\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + clock\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + alu\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc1 +dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc1)/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}total\PYGdefaultZus{}power\PYGdefaultZus{}insn\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average total power per insn\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + window\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + icache\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + clock\PYGdefaultZus{}power\PYGdefaultZus{}cc1 +  alu\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc1 + dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc1)/sim\PYGdefaultZus{}total\PYGdefaultZus{}insn\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}rename\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of rename unit\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{rename\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of bpred unit\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}window\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of instruction window\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of lsq\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of arch. regfile\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}icache\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of icache\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{icache\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of dcache\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of dcache2\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}alu\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of alu\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of resultbus\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}clock\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of clock\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{clock\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}rename\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of rename unit\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}rename\PYGdefaultZus{}power\PYGdefaultZus{}cc2/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of bpred unit\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc2/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}window\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of instruction window\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}window\PYGdefaultZus{}power\PYGdefaultZus{}cc2/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of instruction lsq\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc2/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of arch. regfile\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc2/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}icache\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of icache\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}icache\PYGdefaultZus{}power\PYGdefaultZus{}cc2/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of dcache\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc2/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of dcache2\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc2/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}alu\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of alu\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}alu\PYGdefaultZus{}power\PYGdefaultZus{}cc2/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of resultbus\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc2/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}clock\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of clock\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}clock\PYGdefaultZus{}power\PYGdefaultZus{}cc2/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}fetch\PYGdefaultZus{}stage\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of fetch stage\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}icache\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dispatch\PYGdefaultZus{}stage\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of dispatch stage\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}rename\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}issue\PYGdefaultZus{}stage\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of issue stage\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + alu\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + window\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}fetch\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average power of fetch unit per cycle\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}(icache\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc2)/ sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{c+cm}{/* format */}\PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}dispatch\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average power of dispatch unit per cycle\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power\PYGdefaultZus{}cc2)/ sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{c+cm}{/* format */}\PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}issue\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average power of issue unit per cycle\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}(resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + alu\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + window\PYGdefaultZus{}power\PYGdefaultZus{}cc2)/ sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{c+cm}{/* format */}\PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}power\PYGdefaultZus{}cycle\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power per cycle\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + window\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + icache\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + clock\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + alu\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc2)\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}total\PYGdefaultZus{}power\PYGdefaultZus{}cycle\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average total power per cycle\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + window\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + icache\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + clock\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + alu\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc2)/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}total\PYGdefaultZus{}power\PYGdefaultZus{}insn\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average total power per insn\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + window\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + icache\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + clock\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + alu\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc2 + dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc2)/sim\PYGdefaultZus{}total\PYGdefaultZus{}insn\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}rename\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of rename unit\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{rename\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of bpred unit\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}window\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of instruction window\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{window\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of lsq\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of arch. regfile\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}icache\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of icache\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{icache\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of dcache\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of dcache2\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}alu\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of alu\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{alu\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of resultbus\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}clock\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of clock\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{clock\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}rename\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of rename unit\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}rename\PYGdefaultZus{}power\PYGdefaultZus{}cc3/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of bpred unit\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc3/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}window\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of instruction window\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}window\PYGdefaultZus{}power\PYGdefaultZus{}cc3/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of instruction lsq\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of arch. regfile\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc3/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}icache\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of icache\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}icache\PYGdefaultZus{}power\PYGdefaultZus{}cc3/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of dcache\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc3/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of dcache2\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc3/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}alu\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of alu\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}alu\PYGdefaultZus{}power\PYGdefaultZus{}cc3/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of resultbus\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc3/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}clock\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg power usage of clock\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}clock\PYGdefaultZus{}power\PYGdefaultZus{}cc3/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}fetch\PYGdefaultZus{}stage\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of fetch stage\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}icache\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}dispatch\PYGdefaultZus{}stage\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of dispatch stage\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}rename\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}issue\PYGdefaultZus{}stage\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power usage of issue stage\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + alu\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + window\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}fetch\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average power of fetch unit per cycle\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}(icache\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc3)/ sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{c+cm}{/* format */}\PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}dispatch\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average power of dispatch unit per cycle\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power\PYGdefaultZus{}cc3)/ sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{c+cm}{/* format */}\PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}issue\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average power of issue unit per cycle\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}(resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + alu\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + window\PYGdefaultZus{}power\PYGdefaultZus{}cc3)/ sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{c+cm}{/* format */}\PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}power\PYGdefaultZus{}cycle\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total power per cycle\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + window\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + icache\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + clock\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + alu\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc3)\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}total\PYGdefaultZus{}power\PYGdefaultZus{}cycle\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average total power per cycle\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + window\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + icache\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + clock\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + alu\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc3)/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}total\PYGdefaultZus{}power\PYGdefaultZus{}insn\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}average total power per insn\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}(rename\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + bpred\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + lsq\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + window\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + regfile\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + icache\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + resultbus\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + clock\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + alu\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + dcache\PYGdefaultZus{}power\PYGdefaultZus{}cc3 + dcache2\PYGdefaultZus{}power\PYGdefaultZus{}cc3)/sim\PYGdefaultZus{}total\PYGdefaultZus{}insn\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

\PYGdefault{c+cm}{/****************************************************************************************************************************************/}	       
\PYGdefault{c+cm}{/* CS 203A Printing usefull statistics                                                                                                  */}	       
\PYGdefault{c+cm}{/****************************************************************************************************************************************/}	       
  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}Sum of average powers (cc1+cc2+cc3)\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}total\PYGdefaultZus{}power\PYGdefaultZus{}cycle\PYGdefaultZus{}cc1+avg\PYGdefaultZus{}total\PYGdefaultZus{}power\PYGdefaultZus{}cycle\PYGdefaultZus{}cc2+avg\PYGdefaultZus{}total\PYGdefaultZus{}power\PYGdefaultZus{}cycle\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}
  
  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}tot\PYGdefaultZus{}power\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}Sum of total powers (cc1+cc2+cc3)\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}power\PYGdefaultZus{}cycle\PYGdefaultZus{}cc1+total\PYGdefaultZus{}power\PYGdefaultZus{}cycle\PYGdefaultZus{}cc2+total\PYGdefaultZus{}power\PYGdefaultZus{}cycle\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}
  
\PYGdefault{c+cm}{/****************************************************************************************************************************************/}	       
\PYGdefault{c+cm}{/*                                                                                                                                      */}	       
\PYGdefault{c+cm}{/****************************************************************************************************************************************/}	       

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}rename\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total number accesses of rename unit\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{total\PYGdefaultZus{}rename\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}bpred\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total number accesses of bpred unit\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{total\PYGdefaultZus{}bpred\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}window\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total number accesses of instruction window\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{total\PYGdefaultZus{}window\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}lsq\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total number accesses of load/store queue\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{total\PYGdefaultZus{}lsq\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}regfile\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total number accesses of arch. regfile\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{total\PYGdefaultZus{}regfile\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}icache\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total number accesses of icache\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{total\PYGdefaultZus{}icache\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}dcache\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total number accesses of dcache\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{total\PYGdefaultZus{}dcache\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}dcache2\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total number accesses of dcache2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{total\PYGdefaultZus{}dcache2\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}alu\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total number accesses of alu\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{total\PYGdefaultZus{}alu\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}resultbus\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total number accesses of resultbus\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{total\PYGdefaultZus{}resultbus\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}rename\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg number accesses of rename unit\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}rename\PYGdefaultZus{}access/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}bpred\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg number accesses of bpred unit\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}bpred\PYGdefaultZus{}access/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}window\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg number accesses of instruction window\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}window\PYGdefaultZus{}access/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}lsq\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg number accesses of lsq\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}lsq\PYGdefaultZus{}access/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}regfile\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg number accesses of arch. regfile\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}regfile\PYGdefaultZus{}access/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}icache\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg number accesses of icache\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}icache\PYGdefaultZus{}access/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}dcache\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg number accesses of dcache\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}dcache\PYGdefaultZus{}access/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}dcache2\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg number accesses of dcache2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}dcache2\PYGdefaultZus{}access/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}alu\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg number accesses of alu\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}alu\PYGdefaultZus{}access/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}formula}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg\PYGdefaultZus{}resultbus\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}avg number accesses of resultbus\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}total\PYGdefaultZus{}resultbus\PYGdefaultZus{}access/sim\PYGdefaultZus{}cycle\PYGdefaultZdq{}}\PYGdefault{p}{,}  \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max\PYGdefaultZus{}rename\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max number accesses of rename unit\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{max\PYGdefaultZus{}rename\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max\PYGdefaultZus{}bpred\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max number accesses of bpred unit\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{max\PYGdefaultZus{}bpred\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max\PYGdefaultZus{}window\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max number accesses of instruction window\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{max\PYGdefaultZus{}window\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max\PYGdefaultZus{}lsq\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max number accesses of load/store queue\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{max\PYGdefaultZus{}lsq\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max\PYGdefaultZus{}regfile\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max number accesses of arch. regfile\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{max\PYGdefaultZus{}regfile\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max\PYGdefaultZus{}icache\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max number accesses of icache\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{max\PYGdefaultZus{}icache\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max\PYGdefaultZus{}dcache\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max number accesses of dcache\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{max\PYGdefaultZus{}dcache\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max\PYGdefaultZus{}dcache2\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max number accesses of dcache2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{max\PYGdefaultZus{}dcache2\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max\PYGdefaultZus{}alu\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max number accesses of alu\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{max\PYGdefaultZus{}alu\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}counter}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max\PYGdefaultZus{}resultbus\PYGdefaultZus{}access\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max number accesses of resultbus\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{max\PYGdefaultZus{}resultbus\PYGdefaultZus{}access}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}maximum cycle power usage of cc1\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{max\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc1}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}maximum cycle power usage of cc2\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{max\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc2}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}

  \PYGdefault{n}{stat\PYGdefaultZus{}reg\PYGdefaultZus{}double}\PYGdefault{p}{(}\PYGdefault{n}{sdb}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}max\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{l+s}{\PYGdefaultZdq{}maximum cycle power usage of cc3\PYGdefaultZdq{}}\PYGdefault{p}{,} \PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{max\PYGdefaultZus{}cycle\PYGdefaultZus{}power\PYGdefaultZus{}cc3}\PYGdefault{p}{,} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{,} \PYGdefault{n+nb}{NULL}\PYGdefault{p}{);}
\PYGdefault{p}{\PYGdefaultZcb{}}


\PYGdefault{c+cm}{/* this routine takes the number of rows and cols of an array structure}
\PYGdefault{c+cm}{   and attemps to make it make it more of a reasonable circuit structure}
\PYGdefault{c+cm}{   by trying to make the number of rows and cols as close as possible.}
\PYGdefault{c+cm}{   (scaling both by factors of 2 in opposite directions).  it returns}
\PYGdefault{c+cm}{   a scale factor which is the amount that the rows should be divided}
\PYGdefault{c+cm}{   by and the columns should be multiplied by.}
\PYGdefault{c+cm}{*/}
\PYGdefault{k+kt}{int} \PYGdefault{n+nf}{squarify}\PYGdefault{p}{(}\PYGdefault{k+kt}{int} \PYGdefault{n}{rows}\PYGdefault{p}{,} \PYGdefault{k+kt}{int} \PYGdefault{n}{cols}\PYGdefault{p}{)}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{scale\PYGdefaultZus{}factor} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{1}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{rows} \PYGdefault{o}{==} \PYGdefault{n}{cols}\PYGdefault{p}{)}
    \PYGdefault{k}{return} \PYGdefault{l+m+mi}{1}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/*}
\PYGdefault{c+cm}{  printf(\PYGdefaultZdq{}init rows == \PYGdefaultZpc{}d\PYGdefaultZbs{}n\PYGdefaultZdq{},rows);}
\PYGdefault{c+cm}{  printf(\PYGdefaultZdq{}init cols == \PYGdefaultZpc{}d\PYGdefaultZbs{}n\PYGdefaultZdq{},cols);}
\PYGdefault{c+cm}{  */}

  \PYGdefault{k}{while}\PYGdefault{p}{(}\PYGdefault{n}{rows} \PYGdefault{o}{\PYGdefaultZgt{}} \PYGdefault{n}{cols}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{rows} \PYGdefault{o}{=} \PYGdefault{n}{rows}\PYGdefault{o}{/}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{;}
    \PYGdefault{n}{cols} \PYGdefault{o}{=} \PYGdefault{n}{cols}\PYGdefault{o}{*}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{;}

    \PYGdefault{c+cm}{/*}
\PYGdefault{c+cm}{    printf(\PYGdefaultZdq{}rows == \PYGdefaultZpc{}d\PYGdefaultZbs{}n\PYGdefaultZdq{},rows);}
\PYGdefault{c+cm}{    printf(\PYGdefaultZdq{}cols == \PYGdefaultZpc{}d\PYGdefaultZbs{}n\PYGdefaultZdq{},cols);}
\PYGdefault{c+cm}{    printf(\PYGdefaultZdq{}scale\PYGdefaultZus{}factor == \PYGdefaultZpc{}d (2\PYGdefaultZca{} == \PYGdefaultZpc{}d)\PYGdefaultZbs{}n\PYGdefaultZbs{}n\PYGdefaultZdq{},scale\PYGdefaultZus{}factor,(int)pow(2.0,(double)scale\PYGdefaultZus{}factor));}
\PYGdefault{c+cm}{    */}

    \PYGdefault{k}{if} \PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{o}{/}\PYGdefault{l+m+mi}{2} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{n}{cols}\PYGdefault{p}{)}
      \PYGdefault{k}{return}\PYGdefault{p}{((}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{pow}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{2.0}\PYGdefault{p}{,(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{));}
    \PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{o}{++}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}

  \PYGdefault{k}{return} \PYGdefault{l+m+mi}{1}\PYGdefault{p}{;}
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{c+cm}{/* could improve squarify to work when rows \PYGdefaultZlt{} cols */}

\PYGdefault{k+kt}{double} \PYGdefault{n+nf}{squarify\PYGdefaultZus{}new}\PYGdefault{p}{(}\PYGdefault{k+kt}{int} \PYGdefault{n}{rows}\PYGdefault{p}{,} \PYGdefault{k+kt}{int} \PYGdefault{n}{cols}\PYGdefault{p}{)}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{scale\PYGdefaultZus{}factor} \PYGdefault{o}{=} \PYGdefault{l+m+mf}{0.0}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{o}{==}\PYGdefault{n}{cols}\PYGdefault{p}{)}
    \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{pow}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{2.0}\PYGdefault{p}{,}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{));}

  \PYGdefault{k}{while}\PYGdefault{p}{(}\PYGdefault{n}{rows} \PYGdefault{o}{\PYGdefaultZgt{}} \PYGdefault{n}{cols}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{rows} \PYGdefault{o}{=} \PYGdefault{n}{rows}\PYGdefault{o}{/}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{;}
    \PYGdefault{n}{cols} \PYGdefault{o}{=} \PYGdefault{n}{cols}\PYGdefault{o}{*}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{;}
    \PYGdefault{k}{if} \PYGdefault{p}{(}\PYGdefault{n}{rows} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{n}{cols}\PYGdefault{p}{)}
      \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{pow}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{2.0}\PYGdefault{p}{,}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{));}
    \PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{o}{++}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}

  \PYGdefault{k}{while}\PYGdefault{p}{(}\PYGdefault{n}{cols} \PYGdefault{o}{\PYGdefaultZgt{}} \PYGdefault{n}{rows}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{rows} \PYGdefault{o}{=} \PYGdefault{n}{rows}\PYGdefault{o}{*}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{;}
    \PYGdefault{n}{cols} \PYGdefault{o}{=} \PYGdefault{n}{cols}\PYGdefault{o}{/}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{;}
    \PYGdefault{k}{if} \PYGdefault{p}{(}\PYGdefault{n}{cols} \PYGdefault{o}{\PYGdefaultZlt{}=} \PYGdefault{n}{rows}\PYGdefault{p}{)}
      \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{pow}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{2.0}\PYGdefault{p}{,}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{));}
    \PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZhy{}}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}

  \PYGdefault{k}{return} \PYGdefault{l+m+mi}{1}\PYGdefault{p}{;}

\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{k+kt}{void} \PYGdefault{n}{dump\PYGdefaultZus{}power\PYGdefaultZus{}stats}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{)}
     \PYGdefault{n}{power\PYGdefaultZus{}result\PYGdefaultZus{}type} \PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{;}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{bpred\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{rename\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{rat\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{dcl\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{lsq\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{window\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{wakeup\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{rs\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{regfile\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{reorder\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{icache\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{dcache\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{dcache2\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{dtlb\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{itlb\PYGdefaultZus{}power}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{ambient\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{l+m+mf}{2.0}\PYGdefault{p}{;}

  \PYGdefault{n}{icache\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}power}\PYGdefault{p}{;}

  \PYGdefault{n}{dcache\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}power}\PYGdefault{p}{;}

  \PYGdefault{n}{dcache2\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}power}\PYGdefault{p}{;}

  \PYGdefault{n}{itlb\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{itlb}\PYGdefault{p}{;}
  \PYGdefault{n}{dtlb\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dtlb}\PYGdefault{p}{;}

  \PYGdefault{n}{bpred\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{btb} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{local\PYGdefaultZus{}predict} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{global\PYGdefaultZus{}predict} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{chooser} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{ras}\PYGdefault{p}{;}

  \PYGdefault{n}{rat\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}decoder} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}wordline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}senseamp}\PYGdefault{p}{;}

  \PYGdefault{n}{dcl\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}compare} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}pencode}\PYGdefault{p}{;}

  \PYGdefault{n}{rename\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{inst\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{;}

  \PYGdefault{n}{wakeup\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}tagdrive} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}tagmatch} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}ormatch}\PYGdefault{p}{;}
   
  \PYGdefault{n}{rs\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}decoder} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}wordline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}senseamp}\PYGdefault{p}{;}

  \PYGdefault{n}{window\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{wakeup\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{rs\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{selection}\PYGdefault{p}{;}

  \PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}decoder} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}wordline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}senseamp}\PYGdefault{p}{;}

  \PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}tagdrive} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}tagmatch} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}ormatch}\PYGdefault{p}{;}

  \PYGdefault{n}{lsq\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power}\PYGdefault{p}{;}

  \PYGdefault{n}{reorder\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{reorder\PYGdefaultZus{}decoder} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{reorder\PYGdefaultZus{}wordline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{reorder\PYGdefaultZus{}bitline} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{reorder\PYGdefaultZus{}senseamp}\PYGdefault{p}{;}

  \PYGdefault{n}{regfile\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}decoder} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}wordline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}bitline} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}senseamp}\PYGdefault{p}{;}

  \PYGdefault{n}{total\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{bpred\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{rename\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{window\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{regfile\PYGdefaultZus{}power} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{resultbus} \PYGdefault{o}{+} \PYGdefault{n}{lsq\PYGdefaultZus{}power} \PYGdefault{o}{+} 
    \PYGdefault{n}{icache\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{dcache\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{dcache2\PYGdefaultZus{}power} \PYGdefault{o}{+} 
    \PYGdefault{n}{dtlb\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{itlb\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{clock\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{ialu\PYGdefaultZus{}power} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{falu\PYGdefaultZus{}power}\PYGdefault{p}{;}

  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{Processor Parameters:}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Issue Width: \PYGdefaultZpc{}d}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Window Size: \PYGdefaultZpc{}d}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{RUU\PYGdefaultZus{}size}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Number of Virtual Registers: \PYGdefaultZpc{}d}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{MD\PYGdefaultZus{}NUM\PYGdefaultZus{}IREGS}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Number of Physical Registers: \PYGdefaultZpc{}d}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{RUU\PYGdefaultZus{}size}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Datapath Width: \PYGdefaultZpc{}d}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{);}

  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Total Power Consumption: \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{o}{+}\PYGdefault{n}{ambient\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Branch Predictor Power Consumption: \PYGdefaultZpc{}g  (\PYGdefaultZpc{}.3g\PYGdefaultZpc{}\PYGdefaultZpc{})}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{bpred\PYGdefaultZus{}power}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{100}\PYGdefault{o}{*}\PYGdefault{n}{bpred\PYGdefaultZus{}power}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} branch target buffer power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{btb}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} local predict power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{local\PYGdefaultZus{}predict}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} global predict power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{global\PYGdefaultZus{}predict}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} chooser power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{chooser}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} RAS power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{ras}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Rename Logic Power Consumption: \PYGdefaultZpc{}g  (\PYGdefaultZpc{}.3g\PYGdefaultZpc{}\PYGdefaultZpc{})}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{rename\PYGdefaultZus{}power}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{100}\PYGdefault{o}{*}\PYGdefault{n}{rename\PYGdefaultZus{}power}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} Instruction Decode Power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{inst\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} RAT decode\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}decoder}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} RAT wordline\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}wordline}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} RAT bitline\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} DCL Comparators (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}compare}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Instruction Window Power Consumption: \PYGdefaultZpc{}g  (\PYGdefaultZpc{}.3g\PYGdefaultZpc{}\PYGdefaultZpc{})}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{window\PYGdefaultZus{}power}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{100}\PYGdefault{o}{*}\PYGdefault{n}{window\PYGdefaultZus{}power}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} tagdrive (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}tagdrive}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} tagmatch (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}tagmatch}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} Selection Logic (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{selection}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} decode\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}decoder}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} wordline\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}wordline}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} bitline\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Load/Store Queue Power Consumption: \PYGdefaultZpc{}g  (\PYGdefaultZpc{}.3g\PYGdefaultZpc{}\PYGdefaultZpc{})}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{lsq\PYGdefaultZus{}power}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{100}\PYGdefault{o}{*}\PYGdefault{n}{lsq\PYGdefaultZus{}power}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} tagdrive (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}tagdrive}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} tagmatch (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}tagmatch}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} decode\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}decoder}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} wordline\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}wordline}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} bitline\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Arch. Register File Power Consumption: \PYGdefaultZpc{}g  (\PYGdefaultZpc{}.3g\PYGdefaultZpc{}\PYGdefaultZpc{})}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{regfile\PYGdefaultZus{}power}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{100}\PYGdefault{o}{*}\PYGdefault{n}{regfile\PYGdefaultZus{}power}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} decode\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}decoder}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} wordline\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}wordline}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} bitline\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Result Bus Power Consumption: \PYGdefaultZpc{}g  (\PYGdefaultZpc{}.3g\PYGdefaultZpc{}\PYGdefaultZpc{})}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{resultbus}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{100}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{resultbus}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Total Clock Power: \PYGdefaultZpc{}g  (\PYGdefaultZpc{}.3g\PYGdefaultZpc{}\PYGdefaultZpc{})}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{clock\PYGdefaultZus{}power}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{100}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{clock\PYGdefaultZus{}power}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Int ALU Power: \PYGdefaultZpc{}g  (\PYGdefaultZpc{}.3g\PYGdefaultZpc{}\PYGdefaultZpc{})}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{ialu\PYGdefaultZus{}power}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{100}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{ialu\PYGdefaultZus{}power}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}FP ALU Power: \PYGdefaultZpc{}g  (\PYGdefaultZpc{}.3g\PYGdefaultZpc{}\PYGdefaultZpc{})}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{falu\PYGdefaultZus{}power}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{100}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{falu\PYGdefaultZus{}power}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Instruction Cache Power Consumption: \PYGdefaultZpc{}g  (\PYGdefaultZpc{}.3g\PYGdefaultZpc{}\PYGdefaultZpc{})}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{icache\PYGdefaultZus{}power}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{100}\PYGdefault{o}{*}\PYGdefault{n}{icache\PYGdefaultZus{}power}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} decode\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}decoder}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} wordline\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}wordline}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} bitline\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} senseamp\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}senseamp}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} tagarray\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}tagarray}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Itlb\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g (\PYGdefaultZpc{}.3g\PYGdefaultZpc{}\PYGdefaultZpc{})}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{itlb}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{100}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{itlb}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Data Cache Power Consumption: \PYGdefaultZpc{}g  (\PYGdefaultZpc{}.3g\PYGdefaultZpc{}\PYGdefaultZpc{})}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{dcache\PYGdefaultZus{}power}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{100}\PYGdefault{o}{*}\PYGdefault{n}{dcache\PYGdefaultZus{}power}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} decode\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}decoder}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} wordline\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}wordline}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} bitline\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} senseamp\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}senseamp}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} tagarray\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}tagarray}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Dtlb\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g (\PYGdefaultZpc{}.3g\PYGdefaultZpc{}\PYGdefaultZpc{})}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dtlb}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{100}\PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dtlb}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Level 2 Cache Power Consumption: \PYGdefaultZpc{}g (\PYGdefaultZpc{}.3g\PYGdefaultZpc{}\PYGdefaultZpc{})}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{dcache2\PYGdefaultZus{}power}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{100}\PYGdefault{o}{*}\PYGdefault{n}{dcache2\PYGdefaultZus{}power}\PYGdefault{o}{/}\PYGdefault{n}{total\PYGdefaultZus{}power}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} decode\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}decoder}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} wordline\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}wordline}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} bitline\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}bitline}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} senseamp\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}senseamp}\PYGdefault{p}{);}
  \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} tagarray\PYGdefaultZus{}power (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}tagarray}\PYGdefault{p}{);}
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{c+cm}{/*======================================================================*/}



\PYGdefault{c+cm}{/* }
\PYGdefault{c+cm}{ * This part of the code contains routines for each section as}
\PYGdefault{c+cm}{ * described in the tech report.  See the tech report for more details}
\PYGdefault{c+cm}{ * and explanations */}

\PYGdefault{c+cm}{/*\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}\PYGdefaultZhy{}*/}

\PYGdefault{k+kt}{double} \PYGdefault{n}{driver\PYGdefaultZus{}size}\PYGdefault{p}{(}\PYGdefault{k+kt}{double} \PYGdefault{n}{driving\PYGdefaultZus{}cap}\PYGdefault{p}{,} \PYGdefault{k+kt}{double} \PYGdefault{n}{desiredrisetime}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{nsize}\PYGdefault{p}{,} \PYGdefault{n}{psize}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Rpdrive}\PYGdefault{p}{;} 

  \PYGdefault{n}{Rpdrive} \PYGdefault{o}{=} \PYGdefault{n}{desiredrisetime}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{n}{driving\PYGdefaultZus{}cap}\PYGdefault{o}{*}\PYGdefault{n}{log}\PYGdefault{p}{(}\PYGdefault{n}{VSINV}\PYGdefault{p}{)}\PYGdefault{o}{*\PYGdefaultZhy{}}\PYGdefault{l+m+mf}{1.0}\PYGdefault{p}{);}
  \PYGdefault{n}{psize} \PYGdefault{o}{=} \PYGdefault{n}{restowidth}\PYGdefault{p}{(}\PYGdefault{n}{Rpdrive}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{);}
  \PYGdefault{n}{nsize} \PYGdefault{o}{=} \PYGdefault{n}{restowidth}\PYGdefault{p}{(}\PYGdefault{n}{Rpdrive}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{);}
  \PYGdefault{k}{if} \PYGdefault{p}{(}\PYGdefault{n}{psize} \PYGdefault{o}{\PYGdefaultZgt{}} \PYGdefault{n}{Wworddrivemax}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{psize} \PYGdefault{o}{=} \PYGdefault{n}{Wworddrivemax}\PYGdefault{p}{;}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{if} \PYGdefault{p}{(}\PYGdefault{n}{psize} \PYGdefault{o}{\PYGdefaultZlt{}} \PYGdefault{l+m+mf}{4.0} \PYGdefault{o}{*} \PYGdefault{n}{LSCALE}\PYGdefault{p}{)}
    \PYGdefault{n}{psize} \PYGdefault{o}{=} \PYGdefault{l+m+mf}{4.0} \PYGdefault{o}{*} \PYGdefault{n}{LSCALE}\PYGdefault{p}{;}

  \PYGdefault{k}{return} \PYGdefault{p}{(}\PYGdefault{n}{psize}\PYGdefault{p}{);}

\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{c+cm}{/* Decoder delay:  (see section 6.1 of tech report) */}

\PYGdefault{k+kt}{double} \PYGdefault{n}{array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{predeclength}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{double} \PYGdefault{n}{predeclength}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{cache}\PYGdefault{p}{;}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Ctotal}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Ceq}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{numstack}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{decode\PYGdefaultZus{}bits}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{ports}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{rowsb}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/* read and write ports are the same here */}
  \PYGdefault{n}{ports} \PYGdefault{o}{=} \PYGdefault{n}{rports} \PYGdefault{o}{+} \PYGdefault{n}{wports}\PYGdefault{p}{;}

  \PYGdefault{n}{rowsb} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{rows}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/* number of input bits to be decoded */}
  \PYGdefault{n}{decode\PYGdefaultZus{}bits}\PYGdefault{o}{=}\PYGdefault{n}{ceil}\PYGdefault{p}{((}\PYGdefault{n}{logtwo}\PYGdefault{p}{(}\PYGdefault{n}{rowsb}\PYGdefault{p}{)));}

  \PYGdefault{c+cm}{/* First stage: driving the decoders */}

  \PYGdefault{c+cm}{/* This is the capacitance for driving one bit (and its complement).}
\PYGdefault{c+cm}{     \PYGdefaultZhy{}There are \PYGdefaultZsh{}rowsb 3\PYGdefaultZhy{}\PYGdefaultZgt{}8 decoders contributing gatecap.}
\PYGdefault{c+cm}{     \PYGdefaultZhy{} 2.0 factor from 2 identical sets of drivers in parallel}
\PYGdefault{c+cm}{  */}
  \PYGdefault{n}{Ceq} \PYGdefault{o}{=} \PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wdecdrivep}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)}\PYGdefault{o}{+}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wdecdriven}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{))} \PYGdefault{o}{+}
    \PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{Wdec3to8n}\PYGdefault{o}{+}\PYGdefault{n}{Wdec3to8p}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{10.0}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{rowsb}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/* There are ports * \PYGdefaultZsh{}decode\PYGdefaultZus{}bits total */}
  \PYGdefault{n}{Ctotal}\PYGdefault{o}{+=}\PYGdefault{n}{ports}\PYGdefault{o}{*}\PYGdefault{n}{decode\PYGdefaultZus{}bits}\PYGdefault{o}{*}\PYGdefault{n}{Ceq}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Decoder \PYGdefaultZhy{}\PYGdefaultZhy{} Driving decoders            == \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{.3}\PYGdefault{o}{*}\PYGdefault{n}{Ctotal}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}

  \PYGdefault{c+cm}{/* second stage: driving a bunch of nor gates with a nand }
\PYGdefault{c+cm}{     numstack is the size of the nor gates \PYGdefaultZhy{}\PYGdefaultZhy{} ie. a 7\PYGdefaultZhy{}128 decoder has}
\PYGdefault{c+cm}{     3\PYGdefaultZhy{}input NAND followed by 3\PYGdefaultZhy{}input NOR  */}

  \PYGdefault{n}{numstack} \PYGdefault{o}{=} \PYGdefault{n}{ceil}\PYGdefault{p}{((}\PYGdefault{l+m+mf}{1.0}\PYGdefault{o}{/}\PYGdefault{l+m+mf}{3.0}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{logtwo}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{));}

  \PYGdefault{k}{if} \PYGdefault{p}{(}\PYGdefault{n}{numstack}\PYGdefault{o}{\PYGdefaultZlt{}=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{)} \PYGdefault{n}{numstack} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{1}\PYGdefault{p}{;}
  \PYGdefault{k}{if} \PYGdefault{p}{(}\PYGdefault{n}{numstack}\PYGdefault{o}{\PYGdefaultZgt{}}\PYGdefault{l+m+mi}{5}\PYGdefault{p}{)} \PYGdefault{n}{numstack} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{5}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/* There are \PYGdefaultZsh{}rowsb NOR gates being driven*/}
  \PYGdefault{n}{Ceq} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{l+m+mf}{3.0}\PYGdefault{o}{*}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wdec3to8p}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wdec3to8n}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{3}\PYGdefault{p}{)} \PYGdefault{o}{+}
	 \PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{WdecNORn}\PYGdefault{o}{+}\PYGdefault{n}{WdecNORp}\PYGdefault{p}{,((}\PYGdefault{n}{numstack}\PYGdefault{o}{*}\PYGdefault{l+m+mi}{40}\PYGdefault{p}{)}\PYGdefault{o}{+}\PYGdefault{l+m+mf}{20.0}\PYGdefault{p}{)))}\PYGdefault{o}{*}\PYGdefault{n}{rowsb}\PYGdefault{p}{;}

  \PYGdefault{n}{Ctotal}\PYGdefault{o}{+=}\PYGdefault{n}{ports}\PYGdefault{o}{*}\PYGdefault{n}{Ceq}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Decoder \PYGdefaultZhy{}\PYGdefaultZhy{} Driving nor w/ nand         == \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{.3}\PYGdefault{o}{*}\PYGdefault{n}{ports}\PYGdefault{o}{*}\PYGdefault{n}{Ceq}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}

  \PYGdefault{c+cm}{/* Final stage: driving an inverter with the nor }
\PYGdefault{c+cm}{     (inverter preceding wordline driver) \PYGdefaultZhy{}\PYGdefaultZhy{} wordline driver is in the next section*/}

  \PYGdefault{n}{Ceq} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{Wdecinvn}\PYGdefault{o}{+}\PYGdefault{n}{Wdecinvp}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{20.0}\PYGdefault{p}{)}\PYGdefault{o}{+}
	 \PYGdefault{n}{numstack}\PYGdefault{o}{*}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{WdecNORn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)}\PYGdefault{o}{+}
         \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{WdecNORp}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{n}{numstack}\PYGdefault{p}{));}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Decoder \PYGdefaultZhy{}\PYGdefaultZhy{} Driving inverter w/ nor     == \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{.3}\PYGdefault{o}{*}\PYGdefault{n}{ports}\PYGdefault{o}{*}\PYGdefault{n}{Ceq}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}

  \PYGdefault{n}{Ctotal}\PYGdefault{o}{+=}\PYGdefault{n}{ports}\PYGdefault{o}{*}\PYGdefault{n}{Ceq}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/* assume Activity Factor == .3  */}

  \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{.3}\PYGdefault{o}{*}\PYGdefault{n}{Ctotal}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{k+kt}{double} \PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{cache}\PYGdefault{p}{;}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{predeclength}\PYGdefault{o}{=}\PYGdefault{l+m+mf}{0.0}\PYGdefault{p}{;}
  \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{predeclength}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{));}
\PYGdefault{p}{\PYGdefaultZcb{}}


\PYGdefault{k+kt}{double} \PYGdefault{n}{array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{wordlinelength}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{double} \PYGdefault{n}{wordlinelength}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{cache}\PYGdefault{p}{;}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Ctotal}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Ceq}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Cline}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Cliner}\PYGdefault{p}{,} \PYGdefault{n}{Clinew}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{desiredrisetime}\PYGdefault{p}{,}\PYGdefault{n}{psize}\PYGdefault{p}{,}\PYGdefault{n}{nsize}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{ports}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{colsb}\PYGdefault{p}{;}

  \PYGdefault{n}{ports} \PYGdefault{o}{=} \PYGdefault{n}{rports}\PYGdefault{o}{+}\PYGdefault{n}{wports}\PYGdefault{p}{;}

  \PYGdefault{n}{colsb} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{cols}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/* Calculate size of wordline drivers assuming rise time == Period / 8 }
\PYGdefault{c+cm}{     \PYGdefaultZhy{} estimate cap on line }
\PYGdefault{c+cm}{     \PYGdefaultZhy{} compute min resistance to achieve this with RC }
\PYGdefault{c+cm}{     \PYGdefaultZhy{} compute width needed to achieve this resistance */}

  \PYGdefault{n}{desiredrisetime} \PYGdefault{o}{=} \PYGdefault{n}{Period}\PYGdefault{o}{/}\PYGdefault{l+m+mi}{16}\PYGdefault{p}{;}
  \PYGdefault{n}{Cline} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{n}{gatecappass}\PYGdefault{p}{(}\PYGdefault{n}{Wmemcellr}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{1.0}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{colsb} \PYGdefault{o}{+} \PYGdefault{n}{wordlinelength}\PYGdefault{o}{*}\PYGdefault{n}{CM3metal}\PYGdefault{p}{;}
  \PYGdefault{n}{psize} \PYGdefault{o}{=} \PYGdefault{n}{driver\PYGdefaultZus{}size}\PYGdefault{p}{(}\PYGdefault{n}{Cline}\PYGdefault{p}{,}\PYGdefault{n}{desiredrisetime}\PYGdefault{p}{);}
  
  \PYGdefault{c+cm}{/* how do we want to do p\PYGdefaultZhy{}n ratioing? \PYGdefaultZhy{}\PYGdefaultZhy{} here we just assume the same ratio }
\PYGdefault{c+cm}{     from an inverter pair  */}
  \PYGdefault{n}{nsize} \PYGdefault{o}{=} \PYGdefault{n}{psize} \PYGdefault{o}{*} \PYGdefault{n}{Wdecinvn}\PYGdefault{o}{/}\PYGdefault{n}{Wdecinvp}\PYGdefault{p}{;} 
  
  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Wordline Driver Sizes \PYGdefaultZhy{}\PYGdefaultZhy{} nsize == \PYGdefaultZpc{}f, psize == \PYGdefaultZpc{}f}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{nsize}\PYGdefault{p}{,}\PYGdefault{n}{psize}\PYGdefault{p}{);}

  \PYGdefault{n}{Ceq} \PYGdefault{o}{=} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wdecinvn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wdecinvp}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+}
    \PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{nsize}\PYGdefault{o}{+}\PYGdefault{n}{psize}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{20.0}\PYGdefault{p}{);}

  \PYGdefault{n}{Ctotal}\PYGdefault{o}{+=}\PYGdefault{n}{ports}\PYGdefault{o}{*}\PYGdefault{n}{Ceq}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Wordline \PYGdefaultZhy{}\PYGdefaultZhy{} Inverter \PYGdefaultZhy{}\PYGdefaultZgt{} Driver         == \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{ports}\PYGdefault{o}{*}\PYGdefault{n}{Ceq}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}

  \PYGdefault{c+cm}{/* Compute caps of read wordline and write wordlines }
\PYGdefault{c+cm}{     \PYGdefaultZhy{} wordline driver caps, given computed width from above}
\PYGdefault{c+cm}{     \PYGdefaultZhy{} read wordlines have 1 nmos access tx, size \PYGdefaultZti{}4}
\PYGdefault{c+cm}{     \PYGdefaultZhy{} write wordlines have 2 nmos access tx, size \PYGdefaultZti{}2}
\PYGdefault{c+cm}{     \PYGdefaultZhy{} metal line cap}
\PYGdefault{c+cm}{  */}

  \PYGdefault{n}{Cliner} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{n}{gatecappass}\PYGdefault{p}{(}\PYGdefault{n}{Wmemcellr}\PYGdefault{p}{,(}\PYGdefault{n}{BitWidth}\PYGdefault{o}{\PYGdefaultZhy{}}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{Wmemcellr}\PYGdefault{p}{)}\PYGdefault{o}{/}\PYGdefault{l+m+mf}{2.0}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{colsb}\PYGdefault{o}{+}
    \PYGdefault{n}{wordlinelength}\PYGdefault{o}{*}\PYGdefault{n}{CM3metal}\PYGdefault{o}{+}
    \PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{nsize}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{psize}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{));}
  \PYGdefault{n}{Clinew} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{n}{gatecappass}\PYGdefault{p}{(}\PYGdefault{n}{Wmemcellw}\PYGdefault{p}{,(}\PYGdefault{n}{BitWidth}\PYGdefault{o}{\PYGdefaultZhy{}}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{Wmemcellw}\PYGdefault{p}{)}\PYGdefault{o}{/}\PYGdefault{l+m+mf}{2.0}\PYGdefault{p}{))}\PYGdefault{o}{*}\PYGdefault{n}{colsb}\PYGdefault{o}{+}
    \PYGdefault{n}{wordlinelength}\PYGdefault{o}{*}\PYGdefault{n}{CM3metal}\PYGdefault{o}{+}
    \PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{nsize}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{psize}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{));}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Wordline \PYGdefaultZhy{}\PYGdefaultZhy{} Line                       == \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{1e12}\PYGdefault{o}{*}\PYGdefault{n}{Cline}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Wordline \PYGdefaultZhy{}\PYGdefaultZhy{} Line \PYGdefaultZhy{}\PYGdefaultZhy{} access \PYGdefaultZhy{}\PYGdefaultZhy{} gatecap  == \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{1e12}\PYGdefault{o}{*}\PYGdefault{n}{colsb}\PYGdefault{o}{*}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{gatecappass}\PYGdefault{p}{(}\PYGdefault{n}{Wmemcella}\PYGdefault{p}{,(}\PYGdefault{n}{BitWidth}\PYGdefault{o}{\PYGdefaultZhy{}}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{Wmemcella}\PYGdefault{p}{)}\PYGdefault{o}{/}\PYGdefault{l+m+mf}{2.0}\PYGdefault{p}{));}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Wordline \PYGdefaultZhy{}\PYGdefaultZhy{} Line \PYGdefaultZhy{}\PYGdefaultZhy{} driver \PYGdefaultZhy{}\PYGdefaultZhy{} draincap == \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{1e12}\PYGdefault{o}{*}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{nsize}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{psize}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{));}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Wordline \PYGdefaultZhy{}\PYGdefaultZhy{} Line \PYGdefaultZhy{}\PYGdefaultZhy{} metal              == \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{1e12}\PYGdefault{o}{*}\PYGdefault{n}{wordlinelength}\PYGdefault{o}{*}\PYGdefault{n}{CM3metal}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{n}{Ctotal}\PYGdefault{o}{+=}\PYGdefault{n}{rports}\PYGdefault{o}{*}\PYGdefault{n}{Cliner}\PYGdefault{o}{+}\PYGdefault{n}{wports}\PYGdefault{o}{*}\PYGdefault{n}{Clinew}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/* AF == 1 assuming a different wordline is charged each cycle, but only}
\PYGdefault{c+cm}{     1 wordline (per port) is actually used */}

  \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{Ctotal}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{k+kt}{double} \PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{cache}\PYGdefault{p}{;}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{wordlinelength}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{ports} \PYGdefault{o}{=} \PYGdefault{n}{rports} \PYGdefault{o}{+} \PYGdefault{n}{wports}\PYGdefault{p}{;}
  \PYGdefault{n}{wordlinelength} \PYGdefault{o}{=} \PYGdefault{n}{cols} \PYGdefault{o}{*}  \PYGdefault{p}{(}\PYGdefault{n}{RegCellWidth} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{2} \PYGdefault{o}{*} \PYGdefault{n}{ports} \PYGdefault{o}{*} \PYGdefault{n}{BitlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{wordlinelength}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{));}
\PYGdefault{p}{\PYGdefaultZcb{}}


\PYGdefault{k+kt}{double} \PYGdefault{n}{array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{double} \PYGdefault{n}{bitlinelength}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{cache}\PYGdefault{p}{;}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Ctotal}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Ccolmux}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Cbitrowr}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Cbitroww}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Cprerow}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Cwritebitdrive}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Cpregate}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Cliner}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Clinew}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{ports}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{rowsb}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{colsb}\PYGdefault{p}{;}

  \PYGdefault{k+kt}{double} \PYGdefault{n}{desiredrisetime}\PYGdefault{p}{,} \PYGdefault{n}{Cline}\PYGdefault{p}{,} \PYGdefault{n}{psize}\PYGdefault{p}{,} \PYGdefault{n}{nsize}\PYGdefault{p}{;}

  \PYGdefault{n}{ports} \PYGdefault{o}{=} \PYGdefault{n}{rports} \PYGdefault{o}{+} \PYGdefault{n}{wports}\PYGdefault{p}{;}

  \PYGdefault{n}{rowsb} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{rows}\PYGdefault{p}{;}
  \PYGdefault{n}{colsb} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{cols}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/* Draincaps of access tx\PYGdefaultZsq{}s */}

  \PYGdefault{n}{Cbitrowr} \PYGdefault{o}{=} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wmemcellr}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{);}
  \PYGdefault{n}{Cbitroww} \PYGdefault{o}{=} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wmemcellw}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{);}

  \PYGdefault{c+cm}{/* Cprerow \PYGdefaultZhy{}\PYGdefaultZhy{} precharge cap on the bitline}
\PYGdefault{c+cm}{     \PYGdefaultZhy{}simple scheme to estimate size of pre\PYGdefaultZhy{}charge tx\PYGdefaultZsq{}s in a similar fashion}
\PYGdefault{c+cm}{      to wordline driver size estimation.}
\PYGdefault{c+cm}{     \PYGdefaultZhy{}FIXME: it would be better to use precharge/keeper pairs, i\PYGdefaultZsq{}ve omitted this}
\PYGdefault{c+cm}{      from this version because it couldn\PYGdefaultZsq{}t autosize as easily.}
\PYGdefault{c+cm}{  */}

  \PYGdefault{n}{desiredrisetime} \PYGdefault{o}{=} \PYGdefault{n}{Period}\PYGdefault{o}{/}\PYGdefault{l+m+mi}{8}\PYGdefault{p}{;}

  \PYGdefault{n}{Cline} \PYGdefault{o}{=} \PYGdefault{n}{rowsb}\PYGdefault{o}{*}\PYGdefault{n}{Cbitrowr}\PYGdefault{o}{+}\PYGdefault{n}{CM2metal}\PYGdefault{o}{*}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{;}
  \PYGdefault{n}{psize} \PYGdefault{o}{=} \PYGdefault{n}{driver\PYGdefaultZus{}size}\PYGdefault{p}{(}\PYGdefault{n}{Cline}\PYGdefault{p}{,}\PYGdefault{n}{desiredrisetime}\PYGdefault{p}{);}

  \PYGdefault{c+cm}{/* compensate for not having an nmos pre\PYGdefaultZhy{}charging */}
  \PYGdefault{n}{psize} \PYGdefault{o}{=} \PYGdefault{n}{psize} \PYGdefault{o}{+} \PYGdefault{n}{psize} \PYGdefault{o}{*} \PYGdefault{n}{Wdecinvn}\PYGdefault{o}{/}\PYGdefault{n}{Wdecinvp}\PYGdefault{p}{;} 

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{printf}\PYGdefault{p}{(}\PYGdefault{l+s}{\PYGdefaultZdq{}Cprerow auto   == \PYGdefaultZpc{}g (psize == \PYGdefaultZpc{}g)}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{psize}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{),}\PYGdefault{n}{psize}\PYGdefault{p}{);}

  \PYGdefault{n}{Cprerow} \PYGdefault{o}{=} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{psize}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{);}

  \PYGdefault{c+cm}{/* Cpregate \PYGdefaultZhy{}\PYGdefaultZhy{} cap due to gatecap of precharge transistors \PYGdefaultZhy{}\PYGdefaultZhy{} tack this}
\PYGdefault{c+cm}{     onto bitline cap, again this could have a keeper */}
  \PYGdefault{n}{Cpregate} \PYGdefault{o}{=} \PYGdefault{l+m+mf}{4.0}\PYGdefault{o}{*}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{psize}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{10.0}\PYGdefault{p}{);}
  \PYGdefault{n}{global\PYGdefaultZus{}clockcap}\PYGdefault{o}{+=}\PYGdefault{n}{rports}\PYGdefault{o}{*}\PYGdefault{n}{cols}\PYGdefault{o}{*}\PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{n}{Cpregate}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/* Cwritebitdrive \PYGdefaultZhy{}\PYGdefaultZhy{} write bitline drivers are used instead of the precharge}
\PYGdefault{c+cm}{     stuff for write bitlines}
\PYGdefault{c+cm}{     \PYGdefaultZhy{} 2 inverter drivers within each driver pair */}

  \PYGdefault{n}{Cline} \PYGdefault{o}{=} \PYGdefault{n}{rowsb}\PYGdefault{o}{*}\PYGdefault{n}{Cbitroww}\PYGdefault{o}{+}\PYGdefault{n}{CM2metal}\PYGdefault{o}{*}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{;}

  \PYGdefault{n}{psize} \PYGdefault{o}{=} \PYGdefault{n}{driver\PYGdefaultZus{}size}\PYGdefault{p}{(}\PYGdefault{n}{Cline}\PYGdefault{p}{,}\PYGdefault{n}{desiredrisetime}\PYGdefault{p}{);}
  \PYGdefault{n}{nsize} \PYGdefault{o}{=} \PYGdefault{n}{psize} \PYGdefault{o}{*} \PYGdefault{n}{Wdecinvn}\PYGdefault{o}{/}\PYGdefault{n}{Wdecinvp}\PYGdefault{p}{;} 

  \PYGdefault{n}{Cwritebitdrive} \PYGdefault{o}{=} \PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{psize}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)}\PYGdefault{o}{+}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{nsize}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{));}

  \PYGdefault{c+cm}{/* }
\PYGdefault{c+cm}{     reg files (cache==0) }
\PYGdefault{c+cm}{     =\PYGdefaultZgt{} single ended bitlines (1 bitline/col)}
\PYGdefault{c+cm}{     =\PYGdefaultZgt{} AFs from pop\PYGdefaultZus{}count}
\PYGdefault{c+cm}{     caches (cache ==1)}
\PYGdefault{c+cm}{     =\PYGdefaultZgt{} double\PYGdefaultZhy{}ended bitlines (2 bitlines/col)}
\PYGdefault{c+cm}{     =\PYGdefaultZgt{} AFs = .5 (since one of the two bitlines is always charging/discharging)}
\PYGdefault{c+cm}{  */}

\PYGdefault{c+cp}{\PYGdefaultZsh{}ifdef STATIC\PYGdefaultZus{}AF}
  \PYGdefault{k}{if} \PYGdefault{p}{(}\PYGdefault{n}{cache} \PYGdefault{o}{==} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{c+cm}{/* compute the total line cap for read/write bitlines */}
    \PYGdefault{n}{Cliner} \PYGdefault{o}{=} \PYGdefault{n}{rowsb}\PYGdefault{o}{*}\PYGdefault{n}{Cbitrowr}\PYGdefault{o}{+}\PYGdefault{n}{CM2metal}\PYGdefault{o}{*}\PYGdefault{n}{bitlinelength}\PYGdefault{o}{+}\PYGdefault{n}{Cprerow}\PYGdefault{p}{;}
    \PYGdefault{n}{Clinew} \PYGdefault{o}{=} \PYGdefault{n}{rowsb}\PYGdefault{o}{*}\PYGdefault{n}{Cbitroww}\PYGdefault{o}{+}\PYGdefault{n}{CM2metal}\PYGdefault{o}{*}\PYGdefault{n}{bitlinelength}\PYGdefault{o}{+}\PYGdefault{n}{Cwritebitdrive}\PYGdefault{p}{;}

    \PYGdefault{c+cm}{/* Bitline inverters at the end of the bitlines (replaced w/ sense amps}
\PYGdefault{c+cm}{       in cache styles) */}
    \PYGdefault{n}{Ccolmux} \PYGdefault{o}{=} \PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{MSCALE}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{29.9}\PYGdefault{o}{+}\PYGdefault{l+m+mf}{7.8}\PYGdefault{p}{),}\PYGdefault{l+m+mf}{0.0}\PYGdefault{p}{)}\PYGdefault{o}{+}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{MSCALE}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{47.0}\PYGdefault{o}{+}\PYGdefault{l+m+mf}{12.0}\PYGdefault{p}{),}\PYGdefault{l+m+mf}{0.0}\PYGdefault{p}{);}
    \PYGdefault{n}{Ctotal}\PYGdefault{o}{+=}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{1.0}\PYGdefault{o}{\PYGdefaultZhy{}}\PYGdefault{n}{POPCOUNT\PYGdefaultZus{}AF}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{n}{rports}\PYGdefault{o}{*}\PYGdefault{n}{cols}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{Cliner}\PYGdefault{o}{+}\PYGdefault{n}{Ccolmux}\PYGdefault{o}{+}\PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{n}{Cpregate}\PYGdefault{p}{);}
    \PYGdefault{n}{Ctotal}\PYGdefault{o}{+=}\PYGdefault{l+m+mf}{.3}\PYGdefault{o}{*}\PYGdefault{n}{wports}\PYGdefault{o}{*}\PYGdefault{n}{cols}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{Clinew}\PYGdefault{o}{+}\PYGdefault{n}{Cwritebitdrive}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}} 
  \PYGdefault{k}{else} \PYGdefault{p}{\PYGdefaultZob{}} 
    \PYGdefault{n}{Cliner} \PYGdefault{o}{=} \PYGdefault{n}{rowsb}\PYGdefault{o}{*}\PYGdefault{n}{Cbitrowr}\PYGdefault{o}{+}\PYGdefault{n}{CM2metal}\PYGdefault{o}{*}\PYGdefault{n}{bitlinelength}\PYGdefault{o}{+}\PYGdefault{n}{Cprerow} \PYGdefault{o}{+} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wbitmuxn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{);}
    \PYGdefault{n}{Clinew} \PYGdefault{o}{=} \PYGdefault{n}{rowsb}\PYGdefault{o}{*}\PYGdefault{n}{Cbitroww}\PYGdefault{o}{+}\PYGdefault{n}{CM2metal}\PYGdefault{o}{*}\PYGdefault{n}{bitlinelength}\PYGdefault{o}{+}\PYGdefault{n}{Cwritebitdrive}\PYGdefault{p}{;}
    \PYGdefault{n}{Ccolmux} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wbitmuxn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{))}\PYGdefault{o}{+}\PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{WsenseQ1to4}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{10.0}\PYGdefault{p}{);}
    \PYGdefault{n}{Ctotal}\PYGdefault{o}{+=}\PYGdefault{l+m+mf}{.5}\PYGdefault{o}{*}\PYGdefault{n}{rports}\PYGdefault{o}{*}\PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{n}{cols}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{Cliner}\PYGdefault{o}{+}\PYGdefault{n}{Ccolmux}\PYGdefault{o}{+}\PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{n}{Cpregate}\PYGdefault{p}{);}
    \PYGdefault{n}{Ctotal}\PYGdefault{o}{+=}\PYGdefault{l+m+mf}{.5}\PYGdefault{o}{*}\PYGdefault{n}{wports}\PYGdefault{o}{*}\PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{n}{cols}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{Clinew}\PYGdefault{o}{+}\PYGdefault{n}{Cwritebitdrive}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}}
\PYGdefault{c+cp}{\PYGdefaultZsh{}else}
  \PYGdefault{k}{if} \PYGdefault{p}{(}\PYGdefault{n}{cache} \PYGdefault{o}{==} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{c+cm}{/* compute the total line cap for read/write bitlines */}
    \PYGdefault{n}{Cliner} \PYGdefault{o}{=} \PYGdefault{n}{rowsb}\PYGdefault{o}{*}\PYGdefault{n}{Cbitrowr}\PYGdefault{o}{+}\PYGdefault{n}{CM2metal}\PYGdefault{o}{*}\PYGdefault{n}{bitlinelength}\PYGdefault{o}{+}\PYGdefault{n}{Cprerow}\PYGdefault{p}{;}
    \PYGdefault{n}{Clinew} \PYGdefault{o}{=} \PYGdefault{n}{rowsb}\PYGdefault{o}{*}\PYGdefault{n}{Cbitroww}\PYGdefault{o}{+}\PYGdefault{n}{CM2metal}\PYGdefault{o}{*}\PYGdefault{n}{bitlinelength}\PYGdefault{o}{+}\PYGdefault{n}{Cwritebitdrive}\PYGdefault{p}{;}

    \PYGdefault{c+cm}{/* Bitline inverters at the end of the bitlines (replaced w/ sense amps}
\PYGdefault{c+cm}{       in cache styles) */}
    \PYGdefault{n}{Ccolmux} \PYGdefault{o}{=} \PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{MSCALE}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{29.9}\PYGdefault{o}{+}\PYGdefault{l+m+mf}{7.8}\PYGdefault{p}{),}\PYGdefault{l+m+mf}{0.0}\PYGdefault{p}{)}\PYGdefault{o}{+}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{MSCALE}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{47.0}\PYGdefault{o}{+}\PYGdefault{l+m+mf}{12.0}\PYGdefault{p}{),}\PYGdefault{l+m+mf}{0.0}\PYGdefault{p}{);}
    \PYGdefault{n}{Ctotal} \PYGdefault{o}{+=} \PYGdefault{n}{rports}\PYGdefault{o}{*}\PYGdefault{n}{cols}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{Cliner}\PYGdefault{o}{+}\PYGdefault{n}{Ccolmux}\PYGdefault{o}{+}\PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{n}{Cpregate}\PYGdefault{p}{);}
    \PYGdefault{n}{Ctotal} \PYGdefault{o}{+=} \PYGdefault{l+m+mf}{.3}\PYGdefault{o}{*}\PYGdefault{n}{wports}\PYGdefault{o}{*}\PYGdefault{n}{cols}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{Clinew}\PYGdefault{o}{+}\PYGdefault{n}{Cwritebitdrive}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}} 
  \PYGdefault{k}{else} \PYGdefault{p}{\PYGdefaultZob{}} 
    \PYGdefault{n}{Cliner} \PYGdefault{o}{=} \PYGdefault{n}{rowsb}\PYGdefault{o}{*}\PYGdefault{n}{Cbitrowr}\PYGdefault{o}{+}\PYGdefault{n}{CM2metal}\PYGdefault{o}{*}\PYGdefault{n}{bitlinelength}\PYGdefault{o}{+}\PYGdefault{n}{Cprerow} \PYGdefault{o}{+} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wbitmuxn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{);}
    \PYGdefault{n}{Clinew} \PYGdefault{o}{=} \PYGdefault{n}{rowsb}\PYGdefault{o}{*}\PYGdefault{n}{Cbitroww}\PYGdefault{o}{+}\PYGdefault{n}{CM2metal}\PYGdefault{o}{*}\PYGdefault{n}{bitlinelength}\PYGdefault{o}{+}\PYGdefault{n}{Cwritebitdrive}\PYGdefault{p}{;}
    \PYGdefault{n}{Ccolmux} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wbitmuxn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{))}\PYGdefault{o}{+}\PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{WsenseQ1to4}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{10.0}\PYGdefault{p}{);}
    \PYGdefault{n}{Ctotal}\PYGdefault{o}{+=}\PYGdefault{l+m+mf}{.5}\PYGdefault{o}{*}\PYGdefault{n}{rports}\PYGdefault{o}{*}\PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{n}{cols}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{Cliner}\PYGdefault{o}{+}\PYGdefault{n}{Ccolmux}\PYGdefault{o}{+}\PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{n}{Cpregate}\PYGdefault{p}{);}
    \PYGdefault{n}{Ctotal}\PYGdefault{o}{+=}\PYGdefault{l+m+mf}{.5}\PYGdefault{o}{*}\PYGdefault{n}{wports}\PYGdefault{o}{*}\PYGdefault{l+m+mf}{2.0}\PYGdefault{o}{*}\PYGdefault{n}{cols}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{Clinew}\PYGdefault{o}{+}\PYGdefault{n}{Cwritebitdrive}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}}
\PYGdefault{c+cp}{\PYGdefaultZsh{}endif}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Bitline \PYGdefaultZhy{}\PYGdefaultZhy{} Precharge                   == \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{1e12}\PYGdefault{o}{*}\PYGdefault{n}{Cpregate}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Bitline \PYGdefaultZhy{}\PYGdefaultZhy{} Line                        == \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{1e12}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{Cliner}\PYGdefault{o}{+}\PYGdefault{n}{Clinew}\PYGdefault{p}{));}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Bitline \PYGdefaultZhy{}\PYGdefaultZhy{} Line \PYGdefaultZhy{}\PYGdefaultZhy{} access draincap     == \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{1e12}\PYGdefault{o}{*}\PYGdefault{n}{rowsb}\PYGdefault{o}{*}\PYGdefault{n}{Cbitrowr}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Bitline \PYGdefaultZhy{}\PYGdefaultZhy{} Line \PYGdefaultZhy{}\PYGdefaultZhy{} precharge draincap  == \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{1e12}\PYGdefault{o}{*}\PYGdefault{n}{Cprerow}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Bitline \PYGdefaultZhy{}\PYGdefaultZhy{} Line \PYGdefaultZhy{}\PYGdefaultZhy{} metal               == \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{1e12}\PYGdefault{o}{*}\PYGdefault{n}{bitlinelength}\PYGdefault{o}{*}\PYGdefault{n}{CM2metal}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Bitline \PYGdefaultZhy{}\PYGdefaultZhy{} Colmux                      == \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{1e12}\PYGdefault{o}{*}\PYGdefault{n}{Ccolmux}\PYGdefault{p}{);}

    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}}


  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{cache}\PYGdefault{o}{==}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{)}
    \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{Ctotal}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}
  \PYGdefault{k}{else}
    \PYGdefault{n+nf}{return}\PYGdefault{p}{(}\PYGdefault{n}{Ctotal}\PYGdefault{o}{*}\PYGdefault{n}{SensePowerfactor}\PYGdefault{o}{*}\PYGdefault{l+m+mf}{.4}\PYGdefault{p}{);}
  
\PYGdefault{p}{\PYGdefaultZcb{}}


\PYGdefault{k+kt}{double} \PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{cache}\PYGdefault{p}{;}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{bitlinelength}\PYGdefault{p}{;}

  \PYGdefault{k+kt}{int} \PYGdefault{n}{ports} \PYGdefault{o}{=} \PYGdefault{n}{rports} \PYGdefault{o}{+} \PYGdefault{n}{wports}\PYGdefault{p}{;}

  \PYGdefault{n}{bitlinelength} \PYGdefault{o}{=} \PYGdefault{n}{rows} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{ports} \PYGdefault{o}{*} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{k}{return} \PYGdefault{p}{(}\PYGdefault{n}{array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{));}

\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{c+cm}{/* estimate senseamp power dissipation in cache structures (Zyuban\PYGdefaultZsq{}s method) */}
\PYGdefault{k+kt}{double} \PYGdefault{n}{senseamp\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{k+kt}{int} \PYGdefault{n}{cols}\PYGdefault{p}{)}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k}{return}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{cols} \PYGdefault{o}{*} \PYGdefault{n}{Vdd}\PYGdefault{o}{/}\PYGdefault{l+m+mi}{8} \PYGdefault{o}{*} \PYGdefault{l+m+mf}{.5e\PYGdefaultZhy{}3}\PYGdefault{p}{);}
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{c+cm}{/* estimate comparator power consumption (this comparator is similar}
\PYGdefault{c+cm}{   to the tag\PYGdefaultZhy{}match structure in a CAM */}
\PYGdefault{k+kt}{double} \PYGdefault{n}{compare\PYGdefaultZus{}cap}\PYGdefault{p}{(}\PYGdefault{k+kt}{int} \PYGdefault{n}{compare\PYGdefaultZus{}bits}\PYGdefault{p}{)}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{c1}\PYGdefault{p}{,} \PYGdefault{n}{c2}\PYGdefault{p}{;}
  \PYGdefault{c+cm}{/* bottom part of comparator */}
  \PYGdefault{n}{c2} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{n}{compare\PYGdefaultZus{}bits}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wcompn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)}\PYGdefault{o}{+}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wcompn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{))}\PYGdefault{o}{+}
    \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wevalinvp}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wevalinvn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{);}

  \PYGdefault{c+cm}{/* top part of comparator */}
  \PYGdefault{n}{c1} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{n}{compare\PYGdefaultZus{}bits}\PYGdefault{p}{)}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wcompn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)}\PYGdefault{o}{+}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wcompn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{)}\PYGdefault{o}{+}
		       \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wcomppreequ}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{))} \PYGdefault{o}{+}
    \PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{WdecNORn}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{1.0}\PYGdefault{p}{)}\PYGdefault{o}{+}
    \PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{WdecNORp}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{3.0}\PYGdefault{p}{);}

  \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{c1} \PYGdefault{o}{+} \PYGdefault{n}{c2}\PYGdefault{p}{);}
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{c+cm}{/* power of depency check logic */}
\PYGdefault{k+kt}{double} \PYGdefault{n}{dcl\PYGdefaultZus{}compare\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{k+kt}{int} \PYGdefault{n}{compare\PYGdefaultZus{}bits}\PYGdefault{p}{)}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Ctotal}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{num\PYGdefaultZus{}comparators}\PYGdefault{p}{;}
  
  \PYGdefault{n}{num\PYGdefaultZus{}comparators} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{n}{ruu\PYGdefaultZus{}decode\PYGdefaultZus{}width} \PYGdefault{o}{\PYGdefaultZhy{}} \PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{ruu\PYGdefaultZus{}decode\PYGdefaultZus{}width}\PYGdefault{p}{);}

  \PYGdefault{n}{Ctotal} \PYGdefault{o}{=} \PYGdefault{n}{num\PYGdefaultZus{}comparators} \PYGdefault{o}{*} \PYGdefault{n}{compare\PYGdefaultZus{}cap}\PYGdefault{p}{(}\PYGdefault{n}{compare\PYGdefaultZus{}bits}\PYGdefault{p}{);}

  \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{Ctotal}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{o}{*}\PYGdefault{n}{AF}\PYGdefault{p}{);}
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{k+kt}{double} \PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{;}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{cache}\PYGdefault{p}{;}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{cache}\PYGdefault{o}{==}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{)}
    \PYGdefault{k}{return}\PYGdefault{p}{(} \PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)}\PYGdefault{o}{+}
	    \PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)}\PYGdefault{o}{+}
	    \PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{));}
  \PYGdefault{k}{else}
    \PYGdefault{n+nf}{return}\PYGdefault{p}{(} \PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)}\PYGdefault{o}{+}
	    \PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)}\PYGdefault{o}{+}
	    \PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)}\PYGdefault{o}{+}
	    \PYGdefault{n}{senseamp\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{cols}\PYGdefault{p}{));}
\PYGdefault{p}{\PYGdefaultZcb{}}


\PYGdefault{k+kt}{double} \PYGdefault{n}{cam\PYGdefaultZus{}tagdrive}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{)}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{;}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Ctotal}\PYGdefault{p}{,} \PYGdefault{n}{Ctlcap}\PYGdefault{p}{,} \PYGdefault{n}{Cblcap}\PYGdefault{p}{,} \PYGdefault{n}{Cwlcap}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{taglinelength}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{wordlinelength}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{nsize}\PYGdefault{p}{,} \PYGdefault{n}{psize}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{ports}\PYGdefault{p}{;}
  \PYGdefault{n}{Ctotal}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

  \PYGdefault{n}{ports} \PYGdefault{o}{=} \PYGdefault{n}{rports} \PYGdefault{o}{+} \PYGdefault{n}{wports}\PYGdefault{p}{;}

  \PYGdefault{n}{taglinelength} \PYGdefault{o}{=} \PYGdefault{n}{rows} \PYGdefault{o}{*} 
    \PYGdefault{p}{(}\PYGdefault{n}{CamCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{ports} \PYGdefault{o}{*} \PYGdefault{n}{MatchlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{n}{wordlinelength} \PYGdefault{o}{=} \PYGdefault{n}{cols} \PYGdefault{o}{*} 
    \PYGdefault{p}{(}\PYGdefault{n}{CamCellWidth} \PYGdefault{o}{+} \PYGdefault{n}{ports} \PYGdefault{o}{*} \PYGdefault{n}{TaglineSpacing}\PYGdefault{p}{);}

  \PYGdefault{c+cm}{/* Compute tagline cap */}
  \PYGdefault{n}{Ctlcap} \PYGdefault{o}{=} \PYGdefault{n}{Cmetal} \PYGdefault{o}{*} \PYGdefault{n}{taglinelength} \PYGdefault{o}{+} 
    \PYGdefault{n}{rows} \PYGdefault{o}{*} \PYGdefault{n}{gatecappass}\PYGdefault{p}{(}\PYGdefault{n}{Wcomparen2}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{2.0}\PYGdefault{p}{)} \PYGdefault{o}{+}
    \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wcompdrivern}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)}\PYGdefault{o}{+}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wcompdriverp}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{);}

  \PYGdefault{c+cm}{/* Compute bitline cap (for writing new tags) */}
  \PYGdefault{n}{Cblcap} \PYGdefault{o}{=} \PYGdefault{n}{Cmetal} \PYGdefault{o}{*} \PYGdefault{n}{taglinelength} \PYGdefault{o}{+}
    \PYGdefault{n}{rows} \PYGdefault{o}{*} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wmemcellr}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{);}

  \PYGdefault{c+cm}{/* autosize wordline driver */}
  \PYGdefault{n}{psize} \PYGdefault{o}{=} \PYGdefault{n}{driver\PYGdefaultZus{}size}\PYGdefault{p}{(}\PYGdefault{n}{Cmetal} \PYGdefault{o}{*} \PYGdefault{n}{wordlinelength} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{2} \PYGdefault{o}{*} \PYGdefault{n}{cols} \PYGdefault{o}{*} \PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{Wmemcellr}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{2.0}\PYGdefault{p}{),}\PYGdefault{n}{Period}\PYGdefault{o}{/}\PYGdefault{l+m+mi}{8}\PYGdefault{p}{);}
  \PYGdefault{n}{nsize} \PYGdefault{o}{=} \PYGdefault{n}{psize} \PYGdefault{o}{*} \PYGdefault{n}{Wdecinvn}\PYGdefault{o}{/}\PYGdefault{n}{Wdecinvp}\PYGdefault{p}{;} 

  \PYGdefault{c+cm}{/* Compute wordline cap (for writing new tags) */}
  \PYGdefault{n}{Cwlcap} \PYGdefault{o}{=} \PYGdefault{n}{Cmetal} \PYGdefault{o}{*} \PYGdefault{n}{wordlinelength} \PYGdefault{o}{+} 
    \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{nsize}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)}\PYGdefault{o}{+}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{psize}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+}
    \PYGdefault{l+m+mi}{2} \PYGdefault{o}{*} \PYGdefault{n}{cols} \PYGdefault{o}{*} \PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{Wmemcellr}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{2.0}\PYGdefault{p}{);}
    
  \PYGdefault{n}{Ctotal} \PYGdefault{o}{+=} \PYGdefault{p}{(}\PYGdefault{n}{rports} \PYGdefault{o}{*} \PYGdefault{n}{cols} \PYGdefault{o}{*} \PYGdefault{l+m+mi}{2} \PYGdefault{o}{*} \PYGdefault{n}{Ctlcap}\PYGdefault{p}{)} \PYGdefault{o}{+} 
    \PYGdefault{p}{(}\PYGdefault{n}{wports} \PYGdefault{o}{*} \PYGdefault{p}{((}\PYGdefault{n}{cols} \PYGdefault{o}{*} \PYGdefault{l+m+mi}{2} \PYGdefault{o}{*} \PYGdefault{n}{Cblcap}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{p}{(}\PYGdefault{n}{rows} \PYGdefault{o}{*} \PYGdefault{n}{Cwlcap}\PYGdefault{p}{)));}

  \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{Ctotal}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{o}{*}\PYGdefault{n}{AF}\PYGdefault{p}{);}
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{k+kt}{double} \PYGdefault{n}{cam\PYGdefaultZus{}tagmatch}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{)}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{;}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Ctotal}\PYGdefault{p}{,} \PYGdefault{n}{Cmlcap}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{matchlinelength}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{ports}\PYGdefault{p}{;}
  \PYGdefault{n}{Ctotal}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

  \PYGdefault{n}{ports} \PYGdefault{o}{=} \PYGdefault{n}{rports} \PYGdefault{o}{+} \PYGdefault{n}{wports}\PYGdefault{p}{;}

  \PYGdefault{n}{matchlinelength} \PYGdefault{o}{=} \PYGdefault{n}{cols} \PYGdefault{o}{*} 
    \PYGdefault{p}{(}\PYGdefault{n}{CamCellWidth} \PYGdefault{o}{+} \PYGdefault{n}{ports} \PYGdefault{o}{*} \PYGdefault{n}{TaglineSpacing}\PYGdefault{p}{);}

  \PYGdefault{n}{Cmlcap} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{2} \PYGdefault{o}{*} \PYGdefault{n}{cols} \PYGdefault{o}{*} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wcomparen1}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{)} \PYGdefault{o}{+} 
    \PYGdefault{n}{Cmetal} \PYGdefault{o}{*} \PYGdefault{n}{matchlinelength} \PYGdefault{o}{+} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{Wmatchpchg}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+}
    \PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{Wmatchinvn}\PYGdefault{o}{+}\PYGdefault{n}{Wmatchinvp}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{10.0}\PYGdefault{p}{)} \PYGdefault{o}{+}
    \PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{Wmatchnandn}\PYGdefault{o}{+}\PYGdefault{n}{Wmatchnandp}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{10.0}\PYGdefault{p}{);}

  \PYGdefault{n}{Ctotal} \PYGdefault{o}{+=} \PYGdefault{n}{rports} \PYGdefault{o}{*} \PYGdefault{n}{rows} \PYGdefault{o}{*} \PYGdefault{n}{Cmlcap}\PYGdefault{p}{;}

  \PYGdefault{n}{global\PYGdefaultZus{}clockcap} \PYGdefault{o}{+=} \PYGdefault{n}{rports} \PYGdefault{o}{*} \PYGdefault{n}{rows} \PYGdefault{o}{*} \PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{Wmatchpchg}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{5.0}\PYGdefault{p}{);}
  
  \PYGdefault{c+cm}{/* noring the nanded match lines */}
  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width} \PYGdefault{o}{\PYGdefaultZgt{}=} \PYGdefault{l+m+mi}{8}\PYGdefault{p}{)}
    \PYGdefault{n}{Ctotal} \PYGdefault{o}{+=} \PYGdefault{l+m+mi}{2} \PYGdefault{o}{*} \PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{Wmatchnorn}\PYGdefault{o}{+}\PYGdefault{n}{Wmatchnorp}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{10.0}\PYGdefault{p}{);}

  \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{Ctotal}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{o}{*}\PYGdefault{n}{AF}\PYGdefault{p}{);}
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{k+kt}{double} \PYGdefault{n}{cam\PYGdefaultZus{}array}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{)}
     \PYGdefault{k+kt}{int} \PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{;}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{cam\PYGdefaultZus{}tagdrive}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{)} \PYGdefault{o}{+}
	 \PYGdefault{n}{cam\PYGdefaultZus{}tagmatch}\PYGdefault{p}{(}\PYGdefault{n}{rows}\PYGdefault{p}{,}\PYGdefault{n}{cols}\PYGdefault{p}{,}\PYGdefault{n}{rports}\PYGdefault{p}{,}\PYGdefault{n}{wports}\PYGdefault{p}{));}
\PYGdefault{p}{\PYGdefaultZcb{}}


\PYGdefault{k+kt}{double} \PYGdefault{n}{selection\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{k+kt}{int} \PYGdefault{n}{win\PYGdefaultZus{}entries}\PYGdefault{p}{)}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Ctotal}\PYGdefault{p}{,} \PYGdefault{n}{Cor}\PYGdefault{p}{,} \PYGdefault{n}{Cpencode}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{num\PYGdefaultZus{}arbiter}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{;}

  \PYGdefault{n}{Ctotal}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

  \PYGdefault{k}{while}\PYGdefault{p}{(}\PYGdefault{n}{win\PYGdefaultZus{}entries} \PYGdefault{o}{\PYGdefaultZgt{}} \PYGdefault{l+m+mi}{4}\PYGdefault{p}{)}
    \PYGdefault{p}{\PYGdefaultZob{}}
      \PYGdefault{n}{win\PYGdefaultZus{}entries} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{ceil}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{win\PYGdefaultZus{}entries} \PYGdefault{o}{/} \PYGdefault{l+m+mf}{4.0}\PYGdefault{p}{);}
      \PYGdefault{n}{num\PYGdefaultZus{}arbiter} \PYGdefault{o}{+=} \PYGdefault{n}{win\PYGdefaultZus{}entries}\PYGdefault{p}{;}
    \PYGdefault{p}{\PYGdefaultZcb{}}

  \PYGdefault{n}{Cor} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{4} \PYGdefault{o}{*} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{WSelORn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{WSelORprequ}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{);}

  \PYGdefault{n}{Cpencode} \PYGdefault{o}{=} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{WSelPn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{WSelPp}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+} 
    \PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{WSelPn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{WSelPp}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{)} \PYGdefault{o}{+} 
    \PYGdefault{l+m+mi}{3}\PYGdefault{o}{*}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{WSelPn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{WSelPp}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{3}\PYGdefault{p}{)} \PYGdefault{o}{+} 
    \PYGdefault{l+m+mi}{4}\PYGdefault{o}{*}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{WSelPn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{WSelPp}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{4}\PYGdefault{p}{)} \PYGdefault{o}{+} 
    \PYGdefault{l+m+mi}{4}\PYGdefault{o}{*}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{n}{WSelEnn}\PYGdefault{o}{+}\PYGdefault{n}{WSelEnp}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{20.0}\PYGdefault{p}{)} \PYGdefault{o}{+} 
    \PYGdefault{l+m+mi}{4}\PYGdefault{o}{*}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{WSelEnn}\PYGdefault{p}{,}\PYGdefault{n}{NCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{4}\PYGdefault{o}{*}\PYGdefault{n}{draincap}\PYGdefault{p}{(}\PYGdefault{n}{WSelEnp}\PYGdefault{p}{,}\PYGdefault{n}{PCH}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{);}

  \PYGdefault{n}{Ctotal} \PYGdefault{o}{+=} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width} \PYGdefault{o}{*} \PYGdefault{n}{num\PYGdefaultZus{}arbiter}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{Cor}\PYGdefault{o}{+}\PYGdefault{n}{Cpencode}\PYGdefault{p}{);}

  \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{Ctotal}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{o}{*}\PYGdefault{n}{AF}\PYGdefault{p}{);}
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{c+cm}{/* very rough clock power estimates */}
\PYGdefault{k+kt}{double} \PYGdefault{n}{total\PYGdefaultZus{}clockpower}\PYGdefault{p}{(}\PYGdefault{k+kt}{double} \PYGdefault{n}{die\PYGdefaultZus{}length}\PYGdefault{p}{)}
\PYGdefault{p}{\PYGdefaultZob{}}

  \PYGdefault{k+kt}{double} \PYGdefault{n}{clocklinelength}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Cline}\PYGdefault{p}{,}\PYGdefault{n}{Cline2}\PYGdefault{p}{,}\PYGdefault{n}{Ctotal}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{pipereg\PYGdefaultZus{}clockcap}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{global\PYGdefaultZus{}buffercap} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Clockpower}\PYGdefault{p}{;}

  \PYGdefault{k+kt}{double} \PYGdefault{n}{num\PYGdefaultZus{}piperegs}\PYGdefault{p}{;}

  \PYGdefault{k+kt}{int} \PYGdefault{n}{npreg\PYGdefaultZus{}width} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{ceil}\PYGdefault{p}{(}\PYGdefault{n}{logtwo}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{RUU\PYGdefaultZus{}size}\PYGdefault{p}{));}

  \PYGdefault{c+cm}{/* Assume say 8 stages (kinda low now).}
\PYGdefault{c+cm}{     FIXME: this could be a lot better; user could input}
\PYGdefault{c+cm}{     number of pipestages, etc  */}

  \PYGdefault{c+cm}{/* assume 8 pipe stages and try to estimate bits per pipe stage */}
  \PYGdefault{c+cm}{/* pipe stage 0/1 */}
  \PYGdefault{n}{num\PYGdefaultZus{}piperegs} \PYGdefault{o}{=} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{o}{*}\PYGdefault{n}{inst\PYGdefaultZus{}length} \PYGdefault{o}{+} \PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{;}
  \PYGdefault{c+cm}{/* pipe stage 1/2 */}
  \PYGdefault{n}{num\PYGdefaultZus{}piperegs} \PYGdefault{o}{+=} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{inst\PYGdefaultZus{}length} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{3} \PYGdefault{o}{*} \PYGdefault{n}{RUU\PYGdefaultZus{}size}\PYGdefault{p}{);}
  \PYGdefault{c+cm}{/* pipe stage 2/3 */}
  \PYGdefault{n}{num\PYGdefaultZus{}piperegs} \PYGdefault{o}{+=} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{inst\PYGdefaultZus{}length} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{3} \PYGdefault{o}{*} \PYGdefault{n}{RUU\PYGdefaultZus{}size}\PYGdefault{p}{);}
  \PYGdefault{c+cm}{/* pipe stage 3/4 */}
  \PYGdefault{n}{num\PYGdefaultZus{}piperegs} \PYGdefault{o}{+=} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{l+m+mi}{3} \PYGdefault{o}{*} \PYGdefault{n}{npreg\PYGdefaultZus{}width} \PYGdefault{o}{+} \PYGdefault{n}{pow2}\PYGdefault{p}{(}\PYGdefault{n}{opcode\PYGdefaultZus{}length}\PYGdefault{p}{));}
  \PYGdefault{c+cm}{/* pipe stage 4/5 */}
  \PYGdefault{n}{num\PYGdefaultZus{}piperegs} \PYGdefault{o}{+=} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{data\PYGdefaultZus{}width} \PYGdefault{o}{+} \PYGdefault{n}{pow2}\PYGdefault{p}{(}\PYGdefault{n}{opcode\PYGdefaultZus{}length}\PYGdefault{p}{));}
  \PYGdefault{c+cm}{/* pipe stage 5/6 */}
  \PYGdefault{n}{num\PYGdefaultZus{}piperegs} \PYGdefault{o}{+=} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{data\PYGdefaultZus{}width} \PYGdefault{o}{+} \PYGdefault{n}{pow2}\PYGdefault{p}{(}\PYGdefault{n}{opcode\PYGdefaultZus{}length}\PYGdefault{p}{));}
  \PYGdefault{c+cm}{/* pipe stage 6/7 */}
  \PYGdefault{n}{num\PYGdefaultZus{}piperegs} \PYGdefault{o}{+=} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{data\PYGdefaultZus{}width} \PYGdefault{o}{+} \PYGdefault{n}{pow2}\PYGdefault{p}{(}\PYGdefault{n}{opcode\PYGdefaultZus{}length}\PYGdefault{p}{));}
  \PYGdefault{c+cm}{/* pipe stage 7/8 */}
  \PYGdefault{n}{num\PYGdefaultZus{}piperegs} \PYGdefault{o}{+=} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{data\PYGdefaultZus{}width} \PYGdefault{o}{+} \PYGdefault{n}{pow2}\PYGdefault{p}{(}\PYGdefault{n}{opcode\PYGdefaultZus{}length}\PYGdefault{p}{));}

  \PYGdefault{c+cm}{/* assume 50\PYGdefaultZpc{} extra in control signals (rule of thumb) */}
  \PYGdefault{n}{num\PYGdefaultZus{}piperegs} \PYGdefault{o}{=} \PYGdefault{n}{num\PYGdefaultZus{}piperegs} \PYGdefault{o}{*} \PYGdefault{l+m+mf}{1.5}\PYGdefault{p}{;}

  \PYGdefault{n}{pipereg\PYGdefaultZus{}clockcap} \PYGdefault{o}{=} \PYGdefault{n}{num\PYGdefaultZus{}piperegs} \PYGdefault{o}{*} \PYGdefault{l+m+mi}{4}\PYGdefault{o}{*}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{10.0}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{);}

  \PYGdefault{c+cm}{/* estimate based on 3\PYGdefaultZpc{} of die being in clock metal */}
  \PYGdefault{n}{Cline2} \PYGdefault{o}{=} \PYGdefault{n}{Cmetal} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{l+m+mf}{.03} \PYGdefault{o}{*} \PYGdefault{n}{die\PYGdefaultZus{}length} \PYGdefault{o}{*} \PYGdefault{n}{die\PYGdefaultZus{}length}\PYGdefault{o}{/}\PYGdefault{n}{BitlineSpacing}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{l+m+mf}{1e6} \PYGdefault{o}{*} \PYGdefault{l+m+mf}{1e6}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/* another estimate */}
  \PYGdefault{n}{clocklinelength} \PYGdefault{o}{=} \PYGdefault{n}{die\PYGdefaultZus{}length}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{.5} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{4} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{l+m+mf}{.25} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{.25}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{4} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{l+m+mf}{.125}\PYGdefault{p}{)));}
  \PYGdefault{n}{Cline} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{20} \PYGdefault{o}{*} \PYGdefault{n}{Cmetal} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{clocklinelength}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{l+m+mf}{1e6}\PYGdefault{p}{;}
  \PYGdefault{n}{global\PYGdefaultZus{}buffercap} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{12}\PYGdefault{o}{*}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{1000.0}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{10.0}\PYGdefault{p}{)}\PYGdefault{o}{+}\PYGdefault{l+m+mi}{16}\PYGdefault{o}{*}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{l+m+mi}{200}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{10.0}\PYGdefault{p}{)}\PYGdefault{o}{+}\PYGdefault{l+m+mi}{16}\PYGdefault{o}{*}\PYGdefault{l+m+mi}{8}\PYGdefault{o}{*}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{100.0}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{10.00}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{.29}\PYGdefault{o}{*}\PYGdefault{l+m+mf}{1e6}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{10.0}\PYGdefault{p}{);}
  \PYGdefault{c+cm}{/* global\PYGdefaultZus{}clockcap is computed within each array structure for pre\PYGdefaultZhy{}charge tx\PYGdefaultZsq{}s*/}
  \PYGdefault{n}{Ctotal} \PYGdefault{o}{=} \PYGdefault{n}{Cline}\PYGdefault{o}{+}\PYGdefault{n}{global\PYGdefaultZus{}clockcap}\PYGdefault{o}{+}\PYGdefault{n}{pipereg\PYGdefaultZus{}clockcap}\PYGdefault{o}{+}\PYGdefault{n}{global\PYGdefaultZus{}buffercap}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}num\PYGdefaultZus{}piperegs == \PYGdefaultZpc{}f}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{num\PYGdefaultZus{}piperegs}\PYGdefault{p}{);}

  \PYGdefault{c+cm}{/* add I\PYGdefaultZus{}ADD Clockcap and F\PYGdefaultZus{}ADD Clockcap */}
  \PYGdefault{n}{Clockpower} \PYGdefault{o}{=} \PYGdefault{n}{Ctotal}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor} \PYGdefault{o}{+} \PYGdefault{n}{res\PYGdefaultZus{}ialu}\PYGdefault{o}{*}\PYGdefault{n}{I\PYGdefaultZus{}ADD\PYGdefaultZus{}CLOCK} \PYGdefault{o}{+} \PYGdefault{n}{res\PYGdefaultZus{}fpalu}\PYGdefault{o}{*}\PYGdefault{n}{F\PYGdefaultZus{}ADD\PYGdefaultZus{}CLOCK}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Global Clock Power: \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{Clockpower}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} Global Metal Lines   (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{Cline}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} Global Metal Lines (3\PYGdefaultZpc{}\PYGdefaultZpc{}) (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{Cline2}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} Global Clock Buffers (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{global\PYGdefaultZus{}buffercap}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} Global Clock Cap (Explicit) (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{global\PYGdefaultZus{}clockcap}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{o}{+}\PYGdefault{n}{I\PYGdefaultZus{}ADD\PYGdefaultZus{}CLOCK}\PYGdefault{o}{+}\PYGdefault{n}{F\PYGdefaultZus{}ADD\PYGdefaultZus{}CLOCK}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} Global Clock Cap (Implicit) (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{pipereg\PYGdefaultZus{}clockcap}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}}
  \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{Clockpower}\PYGdefault{p}{);}

\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{c+cm}{/* very rough global clock power estimates */}
\PYGdefault{k+kt}{double} \PYGdefault{n}{global\PYGdefaultZus{}clockpower}\PYGdefault{p}{(}\PYGdefault{k+kt}{double} \PYGdefault{n}{die\PYGdefaultZus{}length}\PYGdefault{p}{)}
\PYGdefault{p}{\PYGdefaultZob{}}

  \PYGdefault{k+kt}{double} \PYGdefault{n}{clocklinelength}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Cline}\PYGdefault{p}{,}\PYGdefault{n}{Cline2}\PYGdefault{p}{,}\PYGdefault{n}{Ctotal}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{global\PYGdefaultZus{}buffercap} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

  \PYGdefault{n}{Cline2} \PYGdefault{o}{=} \PYGdefault{n}{Cmetal} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{l+m+mf}{.03} \PYGdefault{o}{*} \PYGdefault{n}{die\PYGdefaultZus{}length} \PYGdefault{o}{*} \PYGdefault{n}{die\PYGdefaultZus{}length}\PYGdefault{o}{/}\PYGdefault{n}{BitlineSpacing}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{l+m+mf}{1e6} \PYGdefault{o}{*} \PYGdefault{l+m+mf}{1e6}\PYGdefault{p}{;}

  \PYGdefault{n}{clocklinelength} \PYGdefault{o}{=} \PYGdefault{n}{die\PYGdefaultZus{}length}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{.5} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{4} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{l+m+mf}{.25} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{.25}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{4} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{l+m+mf}{.125}\PYGdefault{p}{)));}
  \PYGdefault{n}{Cline} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{20} \PYGdefault{o}{*} \PYGdefault{n}{Cmetal} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{clocklinelength}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{l+m+mf}{1e6}\PYGdefault{p}{;}
  \PYGdefault{n}{global\PYGdefaultZus{}buffercap} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{12}\PYGdefault{o}{*}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{1000.0}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{10.0}\PYGdefault{p}{)}\PYGdefault{o}{+}\PYGdefault{l+m+mi}{16}\PYGdefault{o}{*}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{l+m+mi}{200}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{10.0}\PYGdefault{p}{)}\PYGdefault{o}{+}\PYGdefault{l+m+mi}{16}\PYGdefault{o}{*}\PYGdefault{l+m+mi}{8}\PYGdefault{o}{*}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{100.0}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{10.00}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{gatecap}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{.29}\PYGdefault{o}{*}\PYGdefault{l+m+mf}{1e6}\PYGdefault{p}{,}\PYGdefault{l+m+mf}{10.0}\PYGdefault{p}{);}
  \PYGdefault{n}{Ctotal} \PYGdefault{o}{=} \PYGdefault{n}{Cline}\PYGdefault{o}{+}\PYGdefault{n}{global\PYGdefaultZus{}buffercap}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}Global Clock Power: \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{Ctotal}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} Global Metal Lines   (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{Cline}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} Global Metal Lines (3\PYGdefaultZpc{}\PYGdefaultZpc{}) (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{Cline2}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{} Global Clock Buffers (W): \PYGdefaultZpc{}g}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{global\PYGdefaultZus{}buffercap}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}}

  \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{Ctotal}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}

\PYGdefault{p}{\PYGdefaultZcb{}}


\PYGdefault{k+kt}{double} \PYGdefault{n}{compute\PYGdefaultZus{}resultbus\PYGdefaultZus{}power}\PYGdefault{p}{()}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{Ctotal}\PYGdefault{p}{,} \PYGdefault{n}{Cline}\PYGdefault{p}{;}

  \PYGdefault{k+kt}{double} \PYGdefault{n}{regfile\PYGdefaultZus{}height}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/* compute size of result bus tags */}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{npreg\PYGdefaultZus{}width} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{ceil}\PYGdefault{p}{(}\PYGdefault{n}{logtwo}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{RUU\PYGdefaultZus{}size}\PYGdefault{p}{));}

  \PYGdefault{n}{Ctotal}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

  \PYGdefault{n}{regfile\PYGdefaultZus{}height} \PYGdefault{o}{=} \PYGdefault{n}{RUU\PYGdefaultZus{}size} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} 
			       \PYGdefault{n}{WordlineSpacing} \PYGdefault{o}{*} \PYGdefault{l+m+mi}{3} \PYGdefault{o}{*} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{);} 

  \PYGdefault{c+cm}{/* assume num alu\PYGdefaultZsq{}s == ialu  (FIXME: generate a more detailed result bus network model*/}
  \PYGdefault{n}{Cline} \PYGdefault{o}{=} \PYGdefault{n}{Cmetal} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{regfile\PYGdefaultZus{}height} \PYGdefault{o}{+} \PYGdefault{l+m+mf}{.5} \PYGdefault{o}{*} \PYGdefault{n}{res\PYGdefaultZus{}ialu} \PYGdefault{o}{*} \PYGdefault{l+m+mf}{3200.0} \PYGdefault{o}{*} \PYGdefault{n}{LSCALE}\PYGdefault{p}{);}

  \PYGdefault{c+cm}{/* or use result bus length measured from 21264 die photo */}
  \PYGdefault{c+cm}{/*  Cline = Cmetal * 3.3*1000;*/}

  \PYGdefault{c+cm}{/* Assume ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width result busses \PYGdefaultZhy{}\PYGdefaultZhy{} power can be scaled linearly}
\PYGdefault{c+cm}{     for number of result busses (scale by writeback\PYGdefaultZus{}access) */}
  \PYGdefault{n}{Ctotal} \PYGdefault{o}{+=} \PYGdefault{l+m+mf}{2.0} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{data\PYGdefaultZus{}width} \PYGdefault{o}{+} \PYGdefault{n}{npreg\PYGdefaultZus{}width}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{)}\PYGdefault{o}{*} \PYGdefault{n}{Cline}\PYGdefault{p}{;}

\PYGdefault{c+cp}{\PYGdefaultZsh{}ifdef STATIC\PYGdefaultZus{}AF}
  \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{Ctotal}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{o}{*}\PYGdefault{n}{AF}\PYGdefault{p}{);}
\PYGdefault{c+cp}{\PYGdefaultZsh{}else}
  \PYGdefault{k}{return}\PYGdefault{p}{(}\PYGdefault{n}{Ctotal}\PYGdefault{o}{*}\PYGdefault{n}{Powerfactor}\PYGdefault{p}{);}
\PYGdefault{c+cp}{\PYGdefaultZsh{}endif}
  
\PYGdefault{p}{\PYGdefaultZcb{}}

\PYGdefault{k+kt}{void} \PYGdefault{n}{calculate\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{)}
     \PYGdefault{n}{power\PYGdefaultZus{}result\PYGdefaultZus{}type} \PYGdefault{o}{*}\PYGdefault{n}{power}\PYGdefault{p}{;}
\PYGdefault{p}{\PYGdefaultZob{}}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{clockpower}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{double} \PYGdefault{n}{predeclength}\PYGdefault{p}{,} \PYGdefault{n}{wordlinelength}\PYGdefault{p}{,} \PYGdefault{n}{bitlinelength}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{ndwl}\PYGdefault{p}{,} \PYGdefault{n}{ndbl}\PYGdefault{p}{,} \PYGdefault{n}{nspd}\PYGdefault{p}{,} \PYGdefault{n}{ntwl}\PYGdefault{p}{,} \PYGdefault{n}{ntbl}\PYGdefault{p}{,} \PYGdefault{n}{ntspd}\PYGdefault{p}{,} \PYGdefault{n}{c}\PYGdefault{p}{,}\PYGdefault{n}{b}\PYGdefault{p}{,}\PYGdefault{n}{a}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{,} \PYGdefault{n}{rowsb}\PYGdefault{p}{,} \PYGdefault{n}{colsb}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{trowsb}\PYGdefault{p}{,} \PYGdefault{n}{tcolsb}\PYGdefault{p}{,} \PYGdefault{n}{tagsize}\PYGdefault{p}{;}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{va\PYGdefaultZus{}size} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{48}\PYGdefault{p}{;}

  \PYGdefault{k+kt}{int} \PYGdefault{n}{npreg\PYGdefaultZus{}width} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{ceil}\PYGdefault{p}{(}\PYGdefault{n}{logtwo}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{RUU\PYGdefaultZus{}size}\PYGdefault{p}{));}

  \PYGdefault{c+cm}{/* these variables are needed to use Cacti to auto\PYGdefaultZhy{}size cache arrays }
\PYGdefault{c+cm}{     (for optimal delay) */}
  \PYGdefault{n}{time\PYGdefaultZus{}result\PYGdefaultZus{}type} \PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{;}
  \PYGdefault{n}{time\PYGdefaultZus{}parameter\PYGdefaultZus{}type} \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/* used to autosize other structures, like bpred tables */}
  \PYGdefault{k+kt}{int} \PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{;}

  \PYGdefault{n}{global\PYGdefaultZus{}clockcap} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

  \PYGdefault{n}{cache}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}


  \PYGdefault{c+cm}{/* FIXME: ALU power is a simple constant, it would be better}
\PYGdefault{c+cm}{     to include bit AFs and have different numbers for different}
\PYGdefault{c+cm}{     types of operations */}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{ialu\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{res\PYGdefaultZus{}ialu} \PYGdefault{o}{*} \PYGdefault{n}{I\PYGdefaultZus{}ADD}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{falu\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{res\PYGdefaultZus{}fpalu} \PYGdefault{o}{*} \PYGdefault{n}{F\PYGdefaultZus{}ADD}\PYGdefault{p}{;}

  \PYGdefault{n}{nvreg\PYGdefaultZus{}width} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{ceil}\PYGdefault{p}{(}\PYGdefault{n}{logtwo}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{MD\PYGdefaultZus{}NUM\PYGdefaultZus{}IREGS}\PYGdefault{p}{));}
  \PYGdefault{n}{npreg\PYGdefaultZus{}width} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{ceil}\PYGdefault{p}{(}\PYGdefault{n}{logtwo}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{RUU\PYGdefaultZus{}size}\PYGdefault{p}{));}


  \PYGdefault{c+cm}{/* RAT has shadow bits stored in each cell, this makes the}
\PYGdefault{c+cm}{     cell size larger than normal array structures, so we must}
\PYGdefault{c+cm}{     compute it here */}

  \PYGdefault{n}{predeclength} \PYGdefault{o}{=} \PYGdefault{n}{MD\PYGdefaultZus{}NUM\PYGdefaultZus{}IREGS} \PYGdefault{o}{*} 
    \PYGdefault{p}{(}\PYGdefault{n}{RatCellHeight} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{3} \PYGdefault{o}{*} \PYGdefault{n}{ruu\PYGdefaultZus{}decode\PYGdefaultZus{}width} \PYGdefault{o}{*} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{n}{wordlinelength} \PYGdefault{o}{=} \PYGdefault{n}{npreg\PYGdefaultZus{}width} \PYGdefault{o}{*} 
    \PYGdefault{p}{(}\PYGdefault{n}{RatCellWidth} \PYGdefault{o}{+} 
     \PYGdefault{l+m+mi}{6} \PYGdefault{o}{*} \PYGdefault{n}{ruu\PYGdefaultZus{}decode\PYGdefaultZus{}width} \PYGdefault{o}{*} \PYGdefault{n}{BitlineSpacing} \PYGdefault{o}{+} 
     \PYGdefault{n}{RatShiftRegWidth}\PYGdefault{o}{*}\PYGdefault{n}{RatNumShift}\PYGdefault{p}{);}

  \PYGdefault{n}{bitlinelength} \PYGdefault{o}{=} \PYGdefault{n}{MD\PYGdefaultZus{}NUM\PYGdefaultZus{}IREGS} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RatCellHeight} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{3} \PYGdefault{o}{*} \PYGdefault{n}{ruu\PYGdefaultZus{}decode\PYGdefaultZus{}width} \PYGdefault{o}{*} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}rat power stats}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}decoder} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{MD\PYGdefaultZus{}NUM\PYGdefaultZus{}IREGS}\PYGdefault{p}{,}\PYGdefault{n}{npreg\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{predeclength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{ruu\PYGdefaultZus{}decode\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{ruu\PYGdefaultZus{}decode\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}wordline} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{MD\PYGdefaultZus{}NUM\PYGdefaultZus{}IREGS}\PYGdefault{p}{,}\PYGdefault{n}{npreg\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{wordlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{ruu\PYGdefaultZus{}decode\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{ruu\PYGdefaultZus{}decode\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}bitline} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{MD\PYGdefaultZus{}NUM\PYGdefaultZus{}IREGS}\PYGdefault{p}{,}\PYGdefault{n}{npreg\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{ruu\PYGdefaultZus{}decode\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{ruu\PYGdefaultZus{}decode\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}senseamp} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}compare} \PYGdefault{o}{=} \PYGdefault{n}{dcl\PYGdefaultZus{}compare\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{nvreg\PYGdefaultZus{}width}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}pencode} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{inst\PYGdefaultZus{}decoder\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{ruu\PYGdefaultZus{}decode\PYGdefaultZus{}width} \PYGdefault{o}{*} \PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{opcode\PYGdefaultZus{}length}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}tagdrive} \PYGdefault{o}{=}\PYGdefault{n}{cam\PYGdefaultZus{}tagdrive}\PYGdefault{p}{(}\PYGdefault{n}{RUU\PYGdefaultZus{}size}\PYGdefault{p}{,}\PYGdefault{n}{npreg\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}tagmatch} \PYGdefault{o}{=}\PYGdefault{n}{cam\PYGdefaultZus{}tagmatch}\PYGdefault{p}{(}\PYGdefault{n}{RUU\PYGdefaultZus{}size}\PYGdefault{p}{,}\PYGdefault{n}{npreg\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}ormatch} \PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;} 

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{selection} \PYGdefault{o}{=} \PYGdefault{n}{selection\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{RUU\PYGdefaultZus{}size}\PYGdefault{p}{);}


  \PYGdefault{n}{predeclength} \PYGdefault{o}{=} \PYGdefault{n}{MD\PYGdefaultZus{}NUM\PYGdefaultZus{}IREGS} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{3} \PYGdefault{o}{*} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width} \PYGdefault{o}{*} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{n}{wordlinelength} \PYGdefault{o}{=} \PYGdefault{n}{data\PYGdefaultZus{}width} \PYGdefault{o}{*} 
    \PYGdefault{p}{(}\PYGdefault{n}{RegCellWidth} \PYGdefault{o}{+} 
     \PYGdefault{l+m+mi}{6} \PYGdefault{o}{*} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width} \PYGdefault{o}{*} \PYGdefault{n}{BitlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{n}{bitlinelength} \PYGdefault{o}{=} \PYGdefault{n}{MD\PYGdefaultZus{}NUM\PYGdefaultZus{}IREGS} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{3} \PYGdefault{o}{*} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width} \PYGdefault{o}{*} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}regfile power stats}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}decoder} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{MD\PYGdefaultZus{}NUM\PYGdefaultZus{}IREGS}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{predeclength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}wordline} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{MD\PYGdefaultZus{}NUM\PYGdefaultZus{}IREGS}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{wordlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}bitline} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{MD\PYGdefaultZus{}NUM\PYGdefaultZus{}IREGS}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}senseamp} \PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

  \PYGdefault{n}{predeclength} \PYGdefault{o}{=} \PYGdefault{n}{RUU\PYGdefaultZus{}size} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{3} \PYGdefault{o}{*} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width} \PYGdefault{o}{*} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{n}{wordlinelength} \PYGdefault{o}{=} \PYGdefault{n}{data\PYGdefaultZus{}width} \PYGdefault{o}{*} 
    \PYGdefault{p}{(}\PYGdefault{n}{RegCellWidth} \PYGdefault{o}{+} 
     \PYGdefault{l+m+mi}{6} \PYGdefault{o}{*} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width} \PYGdefault{o}{*} \PYGdefault{n}{BitlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{n}{bitlinelength} \PYGdefault{o}{=} \PYGdefault{n}{RUU\PYGdefaultZus{}size} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{3} \PYGdefault{o}{*} \PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width} \PYGdefault{o}{*} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}res station power stats}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}decoder} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{RUU\PYGdefaultZus{}size}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{predeclength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}wordline} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{RUU\PYGdefaultZus{}size}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{wordlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}bitline} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{RUU\PYGdefaultZus{}size}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{ruu\PYGdefaultZus{}issue\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{c+cm}{/* no senseamps in reg file structures (only caches) */}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}senseamp} \PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/* addresses go into lsq tag\PYGdefaultZsq{}s */}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}tagdrive} \PYGdefault{o}{=}\PYGdefault{n}{cam\PYGdefaultZus{}tagdrive}\PYGdefault{p}{(}\PYGdefault{n}{LSQ\PYGdefaultZus{}size}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{,}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}tagmatch} \PYGdefault{o}{=}\PYGdefault{n}{cam\PYGdefaultZus{}tagmatch}\PYGdefault{p}{(}\PYGdefault{n}{LSQ\PYGdefaultZus{}size}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{,}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}ormatch} \PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;} 

  \PYGdefault{n}{wordlinelength} \PYGdefault{o}{=} \PYGdefault{n}{data\PYGdefaultZus{}width} \PYGdefault{o}{*} 
    \PYGdefault{p}{(}\PYGdefault{n}{RegCellWidth} \PYGdefault{o}{+} 
     \PYGdefault{l+m+mi}{4} \PYGdefault{o}{*} \PYGdefault{n}{res\PYGdefaultZus{}memport} \PYGdefault{o}{*} \PYGdefault{n}{BitlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{n}{bitlinelength} \PYGdefault{o}{=} \PYGdefault{n}{RUU\PYGdefaultZus{}size} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{4} \PYGdefault{o}{*} \PYGdefault{n}{res\PYGdefaultZus{}memport} \PYGdefault{o}{*} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{c+cm}{/* rs\PYGdefaultZsq{}s hold data */}
  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}lsq station power stats}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}decoder} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{LSQ\PYGdefaultZus{}size}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{predeclength}\PYGdefault{p}{,}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{,}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}wordline} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{LSQ\PYGdefaultZus{}size}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{wordlinelength}\PYGdefault{p}{,}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{,}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}bitline} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{LSQ\PYGdefaultZus{}size}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{,}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{,}\PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}senseamp} \PYGdefault{o}{=}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{resultbus} \PYGdefault{o}{=} \PYGdefault{n}{compute\PYGdefaultZus{}resultbus\PYGdefaultZus{}power}\PYGdefault{p}{();}

  \PYGdefault{c+cm}{/* Load cache values into what cacti is expecting */}
  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{cache\PYGdefaultZus{}size} \PYGdefault{o}{=} \PYGdefault{n}{btb\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{o}{/}\PYGdefault{l+m+mi}{8}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{n}{btb\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{];} \PYGdefault{c+cm}{/* C */}
  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{block\PYGdefaultZus{}size} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{o}{/}\PYGdefault{l+m+mi}{8}\PYGdefault{p}{);} \PYGdefault{c+cm}{/* B */}
  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{associativity} \PYGdefault{o}{=} \PYGdefault{n}{btb\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{];} \PYGdefault{c+cm}{/* A */}
  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{number\PYGdefaultZus{}of\PYGdefaultZus{}sets} \PYGdefault{o}{=} \PYGdefault{n}{btb\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{];} \PYGdefault{c+cm}{/* C/(B*A) */}

  \PYGdefault{c+cm}{/* have Cacti compute optimal cache config */}
  \PYGdefault{n}{calculate\PYGdefaultZus{}time}\PYGdefault{p}{(}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{,}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{);}
  \PYGdefault{n}{output\PYGdefaultZus{}data}\PYGdefault{p}{(}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{,}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{);}

  \PYGdefault{c+cm}{/* extract Cacti results */}
  \PYGdefault{n}{ndwl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ndwl}\PYGdefault{p}{;}
  \PYGdefault{n}{ndbl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ndbl}\PYGdefault{p}{;}
  \PYGdefault{n}{nspd}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Nspd}\PYGdefault{p}{;}
  \PYGdefault{n}{ntwl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ntwl}\PYGdefault{p}{;}
  \PYGdefault{n}{ntbl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ntbl}\PYGdefault{p}{;}
  \PYGdefault{n}{ntspd}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ntspd}\PYGdefault{p}{;}
  \PYGdefault{n}{c} \PYGdefault{o}{=} \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{cache\PYGdefaultZus{}size}\PYGdefault{p}{;}
  \PYGdefault{n}{b} \PYGdefault{o}{=} \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{block\PYGdefaultZus{}size}\PYGdefault{p}{;}
  \PYGdefault{n}{a} \PYGdefault{o}{=} \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{associativity}\PYGdefault{p}{;} 

  \PYGdefault{n}{cache}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{;}

  \PYGdefault{c+cm}{/* Figure out how many rows/cols there are now */}
  \PYGdefault{n}{rowsb} \PYGdefault{o}{=} \PYGdefault{n}{c}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{n}{b}\PYGdefault{o}{*}\PYGdefault{n}{a}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{o}{*}\PYGdefault{n}{nspd}\PYGdefault{p}{);}
  \PYGdefault{n}{colsb} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{8}\PYGdefault{o}{*}\PYGdefault{n}{b}\PYGdefault{o}{*}\PYGdefault{n}{a}\PYGdefault{o}{*}\PYGdefault{n}{nspd}\PYGdefault{o}{/}\PYGdefault{n}{ndwl}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}\PYGdefaultZpc{}d KB \PYGdefaultZpc{}d\PYGdefaultZhy{}way btb (\PYGdefaultZpc{}d\PYGdefaultZhy{}byte block size):}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{c}\PYGdefault{p}{,}\PYGdefault{n}{a}\PYGdefault{p}{,}\PYGdefault{n}{b}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}ndwl == \PYGdefaultZpc{}d, ndbl == \PYGdefaultZpc{}d, nspd == \PYGdefaultZpc{}d}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{ndwl}\PYGdefault{p}{,}\PYGdefault{n}{ndbl}\PYGdefault{p}{,}\PYGdefault{n}{nspd}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}\PYGdefaultZpc{}d sets of \PYGdefaultZpc{}d rows x \PYGdefaultZpc{}d cols}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{ndwl}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{p}{,}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}}

  \PYGdefault{n}{predeclength} \PYGdefault{o}{=} \PYGdefault{n}{rowsb} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{wordlinelength} \PYGdefault{o}{=} \PYGdefault{n}{colsb} \PYGdefault{o}{*}  \PYGdefault{p}{(}\PYGdefault{n}{RegCellWidth} \PYGdefault{o}{+} \PYGdefault{n}{BitlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{bitlinelength} \PYGdefault{o}{=} \PYGdefault{n}{rowsb} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}btb power stats}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{btb} \PYGdefault{o}{=} \PYGdefault{n}{ndwl}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{,}\PYGdefault{n}{predeclength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{,}\PYGdefault{n}{wordlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{,}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{senseamp\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{colsb}\PYGdefault{p}{));}

  \PYGdefault{n}{cache}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{;}

  \PYGdefault{n}{scale\PYGdefaultZus{}factor} \PYGdefault{o}{=} \PYGdefault{n}{squarify}\PYGdefault{p}{(}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{],}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{]);}
  \PYGdefault{n}{predeclength} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]} \PYGdefault{o}{/} \PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{)}\PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{wordlinelength} \PYGdefault{o}{=} \PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{]} \PYGdefault{o}{*} \PYGdefault{n}{scale\PYGdefaultZus{}factor} \PYGdefault{o}{*}  \PYGdefault{p}{(}\PYGdefault{n}{RegCellWidth} \PYGdefault{o}{+} \PYGdefault{n}{BitlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{bitlinelength} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]} \PYGdefault{o}{/} \PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}local predict power stats}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{local\PYGdefaultZus{}predict} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{]}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{n}{predeclength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{]}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{n}{wordlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{]}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{senseamp\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{]}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{);}

  \PYGdefault{n}{scale\PYGdefaultZus{}factor} \PYGdefault{o}{=} \PYGdefault{n}{squarify}\PYGdefault{p}{(}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{],}\PYGdefault{l+m+mi}{3}\PYGdefault{p}{);}

  \PYGdefault{n}{predeclength} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{]} \PYGdefault{o}{/} \PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{)}\PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{wordlinelength} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{3} \PYGdefault{o}{*} \PYGdefault{n}{scale\PYGdefaultZus{}factor} \PYGdefault{o}{*}  \PYGdefault{p}{(}\PYGdefault{n}{RegCellWidth} \PYGdefault{o}{+} \PYGdefault{n}{BitlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{bitlinelength} \PYGdefault{o}{=} \PYGdefault{p}{(}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{]} \PYGdefault{o}{/} \PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}


  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}local predict power stats}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{local\PYGdefaultZus{}predict} \PYGdefault{o}{+=} \PYGdefault{n}{array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{3}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{n}{predeclength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{3}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{n}{wordlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{twolev\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{3}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{senseamp\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{l+m+mi}{3}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{);}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}bimod\PYGdefaultZus{}config[0] == \PYGdefaultZpc{}d}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{bimod\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]);}

  \PYGdefault{n}{scale\PYGdefaultZus{}factor} \PYGdefault{o}{=} \PYGdefault{n}{squarify}\PYGdefault{p}{(}\PYGdefault{n}{bimod\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{],}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{);}

  \PYGdefault{n}{predeclength} \PYGdefault{o}{=} \PYGdefault{n}{bimod\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{wordlinelength} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor} \PYGdefault{o}{*}  \PYGdefault{p}{(}\PYGdefault{n}{RegCellWidth} \PYGdefault{o}{+} \PYGdefault{n}{BitlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{bitlinelength} \PYGdefault{o}{=} \PYGdefault{n}{bimod\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}


  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}global predict power stats}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{global\PYGdefaultZus{}predict} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{bimod\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{n}{predeclength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{bimod\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{n}{wordlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{bimod\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{senseamp\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{);}

  \PYGdefault{n}{scale\PYGdefaultZus{}factor} \PYGdefault{o}{=} \PYGdefault{n}{squarify}\PYGdefault{p}{(}\PYGdefault{n}{comb\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{],}\PYGdefault{l+m+mi}{2}\PYGdefault{p}{);}

  \PYGdefault{n}{predeclength} \PYGdefault{o}{=} \PYGdefault{n}{comb\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{wordlinelength} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor} \PYGdefault{o}{*}  \PYGdefault{p}{(}\PYGdefault{n}{RegCellWidth} \PYGdefault{o}{+} \PYGdefault{n}{BitlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{bitlinelength} \PYGdefault{o}{=} \PYGdefault{n}{comb\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}chooser predict power stats}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{chooser} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{comb\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{n}{predeclength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{comb\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{n}{wordlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{comb\PYGdefaultZus{}config}\PYGdefault{p}{[}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{]}\PYGdefault{o}{/}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{,}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{senseamp\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{l+m+mi}{2}\PYGdefault{o}{*}\PYGdefault{n}{scale\PYGdefaultZus{}factor}\PYGdefault{p}{);}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}RAS predict power stats}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{ras} \PYGdefault{o}{=} \PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{ras\PYGdefaultZus{}size}\PYGdefault{p}{,}\PYGdefault{n}{data\PYGdefaultZus{}width}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{0}\PYGdefault{p}{);}

  \PYGdefault{n}{tagsize} \PYGdefault{o}{=} \PYGdefault{n}{va\PYGdefaultZus{}size} \PYGdefault{o}{\PYGdefaultZhy{}} \PYGdefault{p}{((}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{logtwo}\PYGdefault{p}{(}\PYGdefault{n}{cache\PYGdefaultZus{}dl1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{p}{(}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{logtwo}\PYGdefault{p}{(}\PYGdefault{n}{cache\PYGdefaultZus{}dl1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{bsize}\PYGdefault{p}{));}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}dtlb predict power stats}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dtlb} \PYGdefault{o}{=} \PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{cam\PYGdefaultZus{}array}\PYGdefault{p}{(}\PYGdefault{n}{dtlb}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets}\PYGdefault{p}{,} \PYGdefault{n}{va\PYGdefaultZus{}size} \PYGdefault{o}{\PYGdefaultZhy{}} \PYGdefault{p}{(}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{logtwo}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{dtlb}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{bsize}\PYGdefault{p}{),}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{dtlb}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets}\PYGdefault{p}{,}\PYGdefault{n}{tagsize}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{));}

  \PYGdefault{n}{tagsize} \PYGdefault{o}{=} \PYGdefault{n}{va\PYGdefaultZus{}size} \PYGdefault{o}{\PYGdefaultZhy{}} \PYGdefault{p}{((}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{logtwo}\PYGdefault{p}{(}\PYGdefault{n}{cache\PYGdefaultZus{}il1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{p}{(}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{logtwo}\PYGdefault{p}{(}\PYGdefault{n}{cache\PYGdefaultZus{}il1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{bsize}\PYGdefault{p}{));}

  \PYGdefault{n}{predeclength} \PYGdefault{o}{=} \PYGdefault{n}{itlb}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{wordlinelength} \PYGdefault{o}{=} \PYGdefault{n}{logtwo}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{itlb}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{bsize}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellWidth} \PYGdefault{o}{+} \PYGdefault{n}{BitlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{bitlinelength} \PYGdefault{o}{=} \PYGdefault{n}{itlb}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}itlb predict power stats}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{itlb} \PYGdefault{o}{=} \PYGdefault{n}{cam\PYGdefaultZus{}array}\PYGdefault{p}{(}\PYGdefault{n}{itlb}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets}\PYGdefault{p}{,} \PYGdefault{n}{va\PYGdefaultZus{}size} \PYGdefault{o}{\PYGdefaultZhy{}} \PYGdefault{p}{(}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{logtwo}\PYGdefault{p}{((}\PYGdefault{k+kt}{double}\PYGdefault{p}{)}\PYGdefault{n}{itlb}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{bsize}\PYGdefault{p}{),}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{itlb}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets}\PYGdefault{p}{,}\PYGdefault{n}{tagsize}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}


  \PYGdefault{n}{cache}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{;}

  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{cache\PYGdefaultZus{}size} \PYGdefault{o}{=} \PYGdefault{n}{cache\PYGdefaultZus{}il1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets} \PYGdefault{o}{*} \PYGdefault{n}{cache\PYGdefaultZus{}il1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{bsize} \PYGdefault{o}{*} \PYGdefault{n}{cache\PYGdefaultZus{}il1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{assoc}\PYGdefault{p}{;} \PYGdefault{c+cm}{/* C */}
  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{block\PYGdefaultZus{}size} \PYGdefault{o}{=} \PYGdefault{n}{cache\PYGdefaultZus{}il1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{bsize}\PYGdefault{p}{;} \PYGdefault{c+cm}{/* B */}
  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{associativity} \PYGdefault{o}{=} \PYGdefault{n}{cache\PYGdefaultZus{}il1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{assoc}\PYGdefault{p}{;} \PYGdefault{c+cm}{/* A */}
  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{number\PYGdefaultZus{}of\PYGdefaultZus{}sets} \PYGdefault{o}{=} \PYGdefault{n}{cache\PYGdefaultZus{}il1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets}\PYGdefault{p}{;} \PYGdefault{c+cm}{/* C/(B*A) */}

  \PYGdefault{n}{calculate\PYGdefaultZus{}time}\PYGdefault{p}{(}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{,}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{);}
  \PYGdefault{n}{output\PYGdefaultZus{}data}\PYGdefault{p}{(}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{,}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{);}

  \PYGdefault{n}{ndwl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ndwl}\PYGdefault{p}{;}
  \PYGdefault{n}{ndbl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ndbl}\PYGdefault{p}{;}
  \PYGdefault{n}{nspd}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Nspd}\PYGdefault{p}{;}
  \PYGdefault{n}{ntwl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ntwl}\PYGdefault{p}{;}
  \PYGdefault{n}{ntbl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ntbl}\PYGdefault{p}{;}
  \PYGdefault{n}{ntspd}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ntspd}\PYGdefault{p}{;}

  \PYGdefault{n}{c} \PYGdefault{o}{=} \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{cache\PYGdefaultZus{}size}\PYGdefault{p}{;}
  \PYGdefault{n}{b} \PYGdefault{o}{=} \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{block\PYGdefaultZus{}size}\PYGdefault{p}{;}
  \PYGdefault{n}{a} \PYGdefault{o}{=} \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{associativity}\PYGdefault{p}{;}

  \PYGdefault{n}{rowsb} \PYGdefault{o}{=} \PYGdefault{n}{c}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{n}{b}\PYGdefault{o}{*}\PYGdefault{n}{a}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{o}{*}\PYGdefault{n}{nspd}\PYGdefault{p}{);}
  \PYGdefault{n}{colsb} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{8}\PYGdefault{o}{*}\PYGdefault{n}{b}\PYGdefault{o}{*}\PYGdefault{n}{a}\PYGdefault{o}{*}\PYGdefault{n}{nspd}\PYGdefault{o}{/}\PYGdefault{n}{ndwl}\PYGdefault{p}{;}

  \PYGdefault{n}{tagsize} \PYGdefault{o}{=} \PYGdefault{n}{va\PYGdefaultZus{}size} \PYGdefault{o}{\PYGdefaultZhy{}} \PYGdefault{p}{((}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{logtwo}\PYGdefault{p}{(}\PYGdefault{n}{cache\PYGdefaultZus{}il1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{p}{(}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{logtwo}\PYGdefault{p}{(}\PYGdefault{n}{cache\PYGdefaultZus{}il1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{bsize}\PYGdefault{p}{));}
  \PYGdefault{n}{trowsb} \PYGdefault{o}{=} \PYGdefault{n}{c}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{n}{b}\PYGdefault{o}{*}\PYGdefault{n}{a}\PYGdefault{o}{*}\PYGdefault{n}{ntbl}\PYGdefault{o}{*}\PYGdefault{n}{ntspd}\PYGdefault{p}{);}
  \PYGdefault{n}{tcolsb} \PYGdefault{o}{=} \PYGdefault{n}{a} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{tagsize} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{1} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{6}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{n}{ntspd}\PYGdefault{o}{/}\PYGdefault{n}{ntwl}\PYGdefault{p}{;}
 
  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}\PYGdefaultZpc{}d KB \PYGdefaultZpc{}d\PYGdefaultZhy{}way cache (\PYGdefaultZpc{}d\PYGdefaultZhy{}byte block size):}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{c}\PYGdefault{p}{,}\PYGdefault{n}{a}\PYGdefault{p}{,}\PYGdefault{n}{b}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}ndwl == \PYGdefaultZpc{}d, ndbl == \PYGdefaultZpc{}d, nspd == \PYGdefaultZpc{}d}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{ndwl}\PYGdefault{p}{,}\PYGdefault{n}{ndbl}\PYGdefault{p}{,}\PYGdefault{n}{nspd}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}\PYGdefaultZpc{}d sets of \PYGdefaultZpc{}d rows x \PYGdefaultZpc{}d cols}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{ndwl}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{p}{,}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}tagsize == \PYGdefaultZpc{}d}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{tagsize}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}}

  \PYGdefault{n}{predeclength} \PYGdefault{o}{=} \PYGdefault{n}{rowsb} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{wordlinelength} \PYGdefault{o}{=} \PYGdefault{n}{colsb} \PYGdefault{o}{*}  \PYGdefault{p}{(}\PYGdefault{n}{RegCellWidth} \PYGdefault{o}{+} \PYGdefault{n}{BitlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{bitlinelength} \PYGdefault{o}{=} \PYGdefault{n}{rowsb} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}icache power stats}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}decoder} \PYGdefault{o}{=} \PYGdefault{n}{ndwl}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{o}{*}\PYGdefault{n}{array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{,}\PYGdefault{n}{predeclength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}wordline} \PYGdefault{o}{=} \PYGdefault{n}{ndwl}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{o}{*}\PYGdefault{n}{array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{,}\PYGdefault{n}{wordlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}bitline} \PYGdefault{o}{=} \PYGdefault{n}{ndwl}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{o}{*}\PYGdefault{n}{array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{,}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}senseamp} \PYGdefault{o}{=} \PYGdefault{n}{ndwl}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{o}{*}\PYGdefault{n}{senseamp\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{colsb}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}tagarray} \PYGdefault{o}{=} \PYGdefault{n}{ntwl}\PYGdefault{o}{*}\PYGdefault{n}{ntbl}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{trowsb}\PYGdefault{p}{,}\PYGdefault{n}{tcolsb}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{));}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}decoder} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}wordline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}senseamp} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}tagarray}\PYGdefault{p}{;}

  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{cache\PYGdefaultZus{}size} \PYGdefault{o}{=} \PYGdefault{n}{cache\PYGdefaultZus{}dl1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets} \PYGdefault{o}{*} \PYGdefault{n}{cache\PYGdefaultZus{}dl1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{bsize} \PYGdefault{o}{*} \PYGdefault{n}{cache\PYGdefaultZus{}dl1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{assoc}\PYGdefault{p}{;} \PYGdefault{c+cm}{/* C */}
  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{block\PYGdefaultZus{}size} \PYGdefault{o}{=} \PYGdefault{n}{cache\PYGdefaultZus{}dl1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{bsize}\PYGdefault{p}{;} \PYGdefault{c+cm}{/* B */}
  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{associativity} \PYGdefault{o}{=} \PYGdefault{n}{cache\PYGdefaultZus{}dl1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{assoc}\PYGdefault{p}{;} \PYGdefault{c+cm}{/* A */}
  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{number\PYGdefaultZus{}of\PYGdefaultZus{}sets} \PYGdefault{o}{=} \PYGdefault{n}{cache\PYGdefaultZus{}dl1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets}\PYGdefault{p}{;} \PYGdefault{c+cm}{/* C/(B*A) */}

  \PYGdefault{n}{calculate\PYGdefaultZus{}time}\PYGdefault{p}{(}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{,}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{);}
  \PYGdefault{n}{output\PYGdefaultZus{}data}\PYGdefault{p}{(}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{,}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{);}

  \PYGdefault{n}{ndwl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ndwl}\PYGdefault{p}{;}
  \PYGdefault{n}{ndbl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ndbl}\PYGdefault{p}{;}
  \PYGdefault{n}{nspd}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Nspd}\PYGdefault{p}{;}
  \PYGdefault{n}{ntwl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ntwl}\PYGdefault{p}{;}
  \PYGdefault{n}{ntbl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ntbl}\PYGdefault{p}{;}
  \PYGdefault{n}{ntspd}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ntspd}\PYGdefault{p}{;}
  \PYGdefault{n}{c} \PYGdefault{o}{=} \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{cache\PYGdefaultZus{}size}\PYGdefault{p}{;}
  \PYGdefault{n}{b} \PYGdefault{o}{=} \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{block\PYGdefaultZus{}size}\PYGdefault{p}{;}
  \PYGdefault{n}{a} \PYGdefault{o}{=} \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{associativity}\PYGdefault{p}{;} 

  \PYGdefault{n}{cache}\PYGdefault{o}{=}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{;}

  \PYGdefault{n}{rowsb} \PYGdefault{o}{=} \PYGdefault{n}{c}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{n}{b}\PYGdefault{o}{*}\PYGdefault{n}{a}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{o}{*}\PYGdefault{n}{nspd}\PYGdefault{p}{);}
  \PYGdefault{n}{colsb} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{8}\PYGdefault{o}{*}\PYGdefault{n}{b}\PYGdefault{o}{*}\PYGdefault{n}{a}\PYGdefault{o}{*}\PYGdefault{n}{nspd}\PYGdefault{o}{/}\PYGdefault{n}{ndwl}\PYGdefault{p}{;}

  \PYGdefault{n}{tagsize} \PYGdefault{o}{=} \PYGdefault{n}{va\PYGdefaultZus{}size} \PYGdefault{o}{\PYGdefaultZhy{}} \PYGdefault{p}{((}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{logtwo}\PYGdefault{p}{(}\PYGdefault{n}{cache\PYGdefaultZus{}dl1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{p}{(}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{logtwo}\PYGdefault{p}{(}\PYGdefault{n}{cache\PYGdefaultZus{}dl1}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{bsize}\PYGdefault{p}{));}
  \PYGdefault{n}{trowsb} \PYGdefault{o}{=} \PYGdefault{n}{c}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{n}{b}\PYGdefault{o}{*}\PYGdefault{n}{a}\PYGdefault{o}{*}\PYGdefault{n}{ntbl}\PYGdefault{o}{*}\PYGdefault{n}{ntspd}\PYGdefault{p}{);}
  \PYGdefault{n}{tcolsb} \PYGdefault{o}{=} \PYGdefault{n}{a} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{tagsize} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{1} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{6}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{n}{ntspd}\PYGdefault{o}{/}\PYGdefault{n}{ntwl}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}\PYGdefaultZpc{}d KB \PYGdefaultZpc{}d\PYGdefaultZhy{}way cache (\PYGdefaultZpc{}d\PYGdefaultZhy{}byte block size):}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{c}\PYGdefault{p}{,}\PYGdefault{n}{a}\PYGdefault{p}{,}\PYGdefault{n}{b}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}ndwl == \PYGdefaultZpc{}d, ndbl == \PYGdefaultZpc{}d, nspd == \PYGdefaultZpc{}d}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{ndwl}\PYGdefault{p}{,}\PYGdefault{n}{ndbl}\PYGdefault{p}{,}\PYGdefault{n}{nspd}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}\PYGdefaultZpc{}d sets of \PYGdefaultZpc{}d rows x \PYGdefaultZpc{}d cols}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{ndwl}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{p}{,}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}tagsize == \PYGdefaultZpc{}d}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{tagsize}\PYGdefault{p}{);}

    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{ntwl == \PYGdefaultZpc{}d, ntbl == \PYGdefaultZpc{}d, ntspd == \PYGdefaultZpc{}d}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{ntwl}\PYGdefault{p}{,}\PYGdefault{n}{ntbl}\PYGdefault{p}{,}\PYGdefault{n}{ntspd}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}\PYGdefaultZpc{}d sets of \PYGdefaultZpc{}d rows x \PYGdefaultZpc{}d cols}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{ntwl}\PYGdefault{o}{*}\PYGdefault{n}{ntbl}\PYGdefault{p}{,}\PYGdefault{n}{trowsb}\PYGdefault{p}{,}\PYGdefault{n}{tcolsb}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}}

  \PYGdefault{n}{predeclength} \PYGdefault{o}{=} \PYGdefault{n}{rowsb} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{wordlinelength} \PYGdefault{o}{=} \PYGdefault{n}{colsb} \PYGdefault{o}{*}  \PYGdefault{p}{(}\PYGdefault{n}{RegCellWidth} \PYGdefault{o}{+} \PYGdefault{n}{BitlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{bitlinelength} \PYGdefault{o}{=} \PYGdefault{n}{rowsb} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}dcache power stats}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}decoder} \PYGdefault{o}{=} \PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{o}{*}\PYGdefault{n}{ndwl}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{o}{*}\PYGdefault{n}{array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{,}\PYGdefault{n}{predeclength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}wordline} \PYGdefault{o}{=} \PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{o}{*}\PYGdefault{n}{ndwl}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{o}{*}\PYGdefault{n}{array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{,}\PYGdefault{n}{wordlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}bitline} \PYGdefault{o}{=} \PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{o}{*}\PYGdefault{n}{ndwl}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{o}{*}\PYGdefault{n}{array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{,}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}senseamp} \PYGdefault{o}{=} \PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{o}{*}\PYGdefault{n}{ndwl}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{o}{*}\PYGdefault{n}{senseamp\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{colsb}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}tagarray} \PYGdefault{o}{=} \PYGdefault{n}{res\PYGdefaultZus{}memport}\PYGdefault{o}{*}\PYGdefault{n}{ntwl}\PYGdefault{o}{*}\PYGdefault{n}{ntbl}\PYGdefault{o}{*}\PYGdefault{p}{(}\PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{trowsb}\PYGdefault{p}{,}\PYGdefault{n}{tcolsb}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{));}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}decoder} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}wordline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}senseamp} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}tagarray}\PYGdefault{p}{;}

  \PYGdefault{n}{clockpower} \PYGdefault{o}{=} \PYGdefault{n}{total\PYGdefaultZus{}clockpower}\PYGdefault{p}{(}\PYGdefault{l+m+mf}{.018}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{clock\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{clockpower}\PYGdefault{p}{;}
  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}result bus power == \PYGdefaultZpc{}f}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{resultbus}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}global clock power == \PYGdefaultZpc{}f}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{clockpower}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}}

  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{cache\PYGdefaultZus{}size} \PYGdefault{o}{=} \PYGdefault{n}{cache\PYGdefaultZus{}dl2}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets} \PYGdefault{o}{*} \PYGdefault{n}{cache\PYGdefaultZus{}dl2}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{bsize} \PYGdefault{o}{*} \PYGdefault{n}{cache\PYGdefaultZus{}dl2}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{assoc}\PYGdefault{p}{;} \PYGdefault{c+cm}{/* C */}
  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{block\PYGdefaultZus{}size} \PYGdefault{o}{=} \PYGdefault{n}{cache\PYGdefaultZus{}dl2}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{bsize}\PYGdefault{p}{;} \PYGdefault{c+cm}{/* B */}
  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{associativity} \PYGdefault{o}{=} \PYGdefault{n}{cache\PYGdefaultZus{}dl2}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{assoc}\PYGdefault{p}{;} \PYGdefault{c+cm}{/* A */}
  \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{number\PYGdefaultZus{}of\PYGdefaultZus{}sets} \PYGdefault{o}{=} \PYGdefault{n}{cache\PYGdefaultZus{}dl2}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets}\PYGdefault{p}{;} \PYGdefault{c+cm}{/* C/(B*A) */}

  \PYGdefault{n}{calculate\PYGdefaultZus{}time}\PYGdefault{p}{(}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{,}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{);}
  \PYGdefault{n}{output\PYGdefaultZus{}data}\PYGdefault{p}{(}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{,}\PYGdefault{o}{\PYGdefaultZam{}}\PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{);}

  \PYGdefault{n}{ndwl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ndwl}\PYGdefault{p}{;}
  \PYGdefault{n}{ndbl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ndbl}\PYGdefault{p}{;}
  \PYGdefault{n}{nspd}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Nspd}\PYGdefault{p}{;}
  \PYGdefault{n}{ntwl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ntwl}\PYGdefault{p}{;}
  \PYGdefault{n}{ntbl}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ntbl}\PYGdefault{p}{;}
  \PYGdefault{n}{ntspd}\PYGdefault{o}{=}\PYGdefault{n}{time\PYGdefaultZus{}result}\PYGdefault{p}{.}\PYGdefault{n}{best\PYGdefaultZus{}Ntspd}\PYGdefault{p}{;}
  \PYGdefault{n}{c} \PYGdefault{o}{=} \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{cache\PYGdefaultZus{}size}\PYGdefault{p}{;}
  \PYGdefault{n}{b} \PYGdefault{o}{=} \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{block\PYGdefaultZus{}size}\PYGdefault{p}{;}
  \PYGdefault{n}{a} \PYGdefault{o}{=} \PYGdefault{n}{time\PYGdefaultZus{}parameters}\PYGdefault{p}{.}\PYGdefault{n}{associativity}\PYGdefault{p}{;}

  \PYGdefault{n}{rowsb} \PYGdefault{o}{=} \PYGdefault{n}{c}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{n}{b}\PYGdefault{o}{*}\PYGdefault{n}{a}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{o}{*}\PYGdefault{n}{nspd}\PYGdefault{p}{);}
  \PYGdefault{n}{colsb} \PYGdefault{o}{=} \PYGdefault{l+m+mi}{8}\PYGdefault{o}{*}\PYGdefault{n}{b}\PYGdefault{o}{*}\PYGdefault{n}{a}\PYGdefault{o}{*}\PYGdefault{n}{nspd}\PYGdefault{o}{/}\PYGdefault{n}{ndwl}\PYGdefault{p}{;}

  \PYGdefault{n}{tagsize} \PYGdefault{o}{=} \PYGdefault{n}{va\PYGdefaultZus{}size} \PYGdefault{o}{\PYGdefaultZhy{}} \PYGdefault{p}{((}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{logtwo}\PYGdefault{p}{(}\PYGdefault{n}{cache\PYGdefaultZus{}dl2}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{nsets}\PYGdefault{p}{)} \PYGdefault{o}{+} \PYGdefault{p}{(}\PYGdefault{k+kt}{int}\PYGdefault{p}{)}\PYGdefault{n}{logtwo}\PYGdefault{p}{(}\PYGdefault{n}{cache\PYGdefaultZus{}dl2}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{bsize}\PYGdefault{p}{));}
  \PYGdefault{n}{trowsb} \PYGdefault{o}{=} \PYGdefault{n}{c}\PYGdefault{o}{/}\PYGdefault{p}{(}\PYGdefault{n}{b}\PYGdefault{o}{*}\PYGdefault{n}{a}\PYGdefault{o}{*}\PYGdefault{n}{ntbl}\PYGdefault{o}{*}\PYGdefault{n}{ntspd}\PYGdefault{p}{);}
  \PYGdefault{n}{tcolsb} \PYGdefault{o}{=} \PYGdefault{n}{a} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{tagsize} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{1} \PYGdefault{o}{+} \PYGdefault{l+m+mi}{6}\PYGdefault{p}{)} \PYGdefault{o}{*} \PYGdefault{n}{ntspd}\PYGdefault{o}{/}\PYGdefault{n}{ntwl}\PYGdefault{p}{;}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)} \PYGdefault{p}{\PYGdefaultZob{}}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}\PYGdefaultZpc{}d KB \PYGdefaultZpc{}d\PYGdefaultZhy{}way cache (\PYGdefaultZpc{}d\PYGdefaultZhy{}byte block size):}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{c}\PYGdefault{p}{,}\PYGdefault{n}{a}\PYGdefault{p}{,}\PYGdefault{n}{b}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}ndwl == \PYGdefaultZpc{}d, ndbl == \PYGdefaultZpc{}d, nspd == \PYGdefaultZpc{}d}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{ndwl}\PYGdefault{p}{,}\PYGdefault{n}{ndbl}\PYGdefault{p}{,}\PYGdefault{n}{nspd}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}\PYGdefaultZpc{}d sets of \PYGdefaultZpc{}d rows x \PYGdefaultZpc{}d cols}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{ndwl}\PYGdefault{o}{*}\PYGdefault{n}{ndbl}\PYGdefault{p}{,}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{);}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}tagsize == \PYGdefaultZpc{}d}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{,}\PYGdefault{n}{tagsize}\PYGdefault{p}{);}
  \PYGdefault{p}{\PYGdefaultZcb{}}

  \PYGdefault{n}{predeclength} \PYGdefault{o}{=} \PYGdefault{n}{rowsb} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{wordlinelength} \PYGdefault{o}{=} \PYGdefault{n}{colsb} \PYGdefault{o}{*}  \PYGdefault{p}{(}\PYGdefault{n}{RegCellWidth} \PYGdefault{o}{+} \PYGdefault{n}{BitlineSpacing}\PYGdefault{p}{);}
  \PYGdefault{n}{bitlinelength} \PYGdefault{o}{=} \PYGdefault{n}{rowsb} \PYGdefault{o}{*} \PYGdefault{p}{(}\PYGdefault{n}{RegCellHeight} \PYGdefault{o}{+} \PYGdefault{n}{WordlineSpacing}\PYGdefault{p}{);}

  \PYGdefault{k}{if}\PYGdefault{p}{(}\PYGdefault{n}{verbose}\PYGdefault{p}{)}
    \PYGdefault{n}{fprintf}\PYGdefault{p}{(}\PYGdefault{n}{stderr}\PYGdefault{p}{,}\PYGdefault{l+s}{\PYGdefaultZdq{}dcache2 power stats}\PYGdefault{l+s+se}{\PYGdefaultZbs{}n}\PYGdefault{l+s}{\PYGdefaultZdq{}}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}decoder} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{,}\PYGdefault{n}{predeclength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}wordline} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}wordline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{,}\PYGdefault{n}{wordlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}bitline} \PYGdefault{o}{=} \PYGdefault{n}{array\PYGdefaultZus{}bitline\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{rowsb}\PYGdefault{p}{,}\PYGdefault{n}{colsb}\PYGdefault{p}{,}\PYGdefault{n}{bitlinelength}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}senseamp} \PYGdefault{o}{=} \PYGdefault{n}{senseamp\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{colsb}\PYGdefault{p}{);}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}tagarray} \PYGdefault{o}{=} \PYGdefault{n}{simple\PYGdefaultZus{}array\PYGdefaultZus{}power}\PYGdefault{p}{(}\PYGdefault{n}{trowsb}\PYGdefault{p}{,}\PYGdefault{n}{tcolsb}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{l+m+mi}{1}\PYGdefault{p}{,}\PYGdefault{n}{cache}\PYGdefault{p}{);}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}decoder} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}wordline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}senseamp} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}tagarray}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}decoder} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}wordline} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}bitline} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}compare} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}pencode} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{inst\PYGdefaultZus{}decoder\PYGdefaultZus{}power} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}tagdrive} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}tagmatch} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}ormatch} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{selection} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}decoder} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}wordline} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}bitline} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}senseamp} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}decoder} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}wordline} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}bitline} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}senseamp} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}tagdrive} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}tagmatch} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}decoder} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}wordline} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}bitline} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}senseamp} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
 
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{resultbus} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{btb} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{local\PYGdefaultZus{}predict} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{global\PYGdefaultZus{}predict} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{chooser} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dtlb} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{itlb} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}decoder} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}wordline}\PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}bitline} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}senseamp}\PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}tagarray}\PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}power} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}decoder} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}wordline} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}bitline} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}senseamp} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}tagarray} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}power} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{clock\PYGdefaultZus{}power} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}decoder} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}wordline} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}bitline} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}senseamp} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}tagarray} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}power} \PYGdefault{o}{*=} \PYGdefault{n}{crossover\PYGdefaultZus{}scaling}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{total\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{local\PYGdefaultZus{}predict} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{global\PYGdefaultZus{}predict} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{chooser} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{btb} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}decoder} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}wordline} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}senseamp} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}compare} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}pencode} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{inst\PYGdefaultZus{}decoder\PYGdefaultZus{}power} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}tagdrive} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}tagmatch} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{selection} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}decoder} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}wordline} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}senseamp} \PYGdefault{o}{+}  
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}decoder} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}wordline} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}senseamp} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}tagdrive} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}tagmatch} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}decoder} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}wordline} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}senseamp} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{resultbus} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{clock\PYGdefaultZus{}power} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}power} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{itlb} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}power} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dtlb} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}power}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{total\PYGdefaultZus{}power\PYGdefaultZus{}nodcache2} \PYGdefault{o}{=}\PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{local\PYGdefaultZus{}predict} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{global\PYGdefaultZus{}predict} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{chooser} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{btb} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}decoder} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}wordline} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}senseamp} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}compare} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}pencode} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{inst\PYGdefaultZus{}decoder\PYGdefaultZus{}power} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}tagdrive} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}tagmatch} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{selection} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}decoder} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}wordline} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}senseamp} \PYGdefault{o}{+}  
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}decoder} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}wordline} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}senseamp} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}tagdrive} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}tagmatch} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}decoder} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}wordline} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}senseamp} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{resultbus} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{clock\PYGdefaultZus{}power} \PYGdefault{o}{+}
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{icache\PYGdefaultZus{}power} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{itlb} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache\PYGdefaultZus{}power} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dtlb} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcache2\PYGdefaultZus{}power}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{bpred\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{btb} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{local\PYGdefaultZus{}predict} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{global\PYGdefaultZus{}predict} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{chooser} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{ras}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}decoder} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}wordline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}senseamp}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}compare} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}pencode}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rename\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rat\PYGdefaultZus{}power} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{dcl\PYGdefaultZus{}power} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{inst\PYGdefaultZus{}decoder\PYGdefaultZus{}power}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}tagdrive} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}tagmatch} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}ormatch}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}decoder} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}wordline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}bitline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}senseamp}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}power\PYGdefaultZus{}nobit} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}decoder} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}wordline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}senseamp}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{window\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{wakeup\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{rs\PYGdefaultZus{}power} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{selection}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}decoder} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}wordline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}bitline} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}senseamp}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power\PYGdefaultZus{}nobit} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}decoder} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}wordline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}senseamp}\PYGdefault{p}{;}
   
  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}tagdrive} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}tagmatch}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}wakeup\PYGdefaultZus{}power} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{lsq\PYGdefaultZus{}rs\PYGdefaultZus{}power}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}power} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}decoder} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}wordline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}bitline} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}senseamp}\PYGdefault{p}{;}

  \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}power\PYGdefaultZus{}nobit} \PYGdefault{o}{=} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}decoder} \PYGdefault{o}{+} 
    \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}wordline} \PYGdefault{o}{+} \PYGdefault{n}{power}\PYGdefault{o}{\PYGdefaultZhy{}\PYGdefaultZgt{}}\PYGdefault{n}{regfile\PYGdefaultZus{}senseamp}\PYGdefault{p}{;}

  \PYGdefault{n}{dump\PYGdefaultZus{}power\PYGdefaultZus{}stats}\PYGdefault{p}{(}\PYGdefault{n}{power}\PYGdefault{p}{);}

\PYGdefault{p}{\PYGdefaultZcb{}}
\end{Verbatim}
