PHD_HOME = Sys.getenv(c("PHD_HOME"))
if (!require("pacman")) install.packages("pacman")
pacman::p_load(ggplot2, data.table, foreach, sqldf)
PHD_HOME = Sys.getenv(c("PHD_HOME"))
PATH = "Y2Q4/Scripts/SpeedupSingleNode/"
filename ="Berlin_N80K-80K_E50.0-100.0"
files = system(paste0("ls ",PHD_HOME,PATH,filename,"_C*.csv"), intern = T)
data = data.frame()
foreach(f = files) %do% {
data = rbind(data, read.csv(f, header = F))
}
data = data[, c(2, 3, 6, 9)]
names(data) = c("Epsilon", "Dataset", "Time", "Cores")
data = sqldf("SELECT Epsilon, Dataset, Cores, AVG(Time) AS Time FROM data GROUP BY 1, 2, 3")
data$Cores = factor(data$Cores)
data = data[data$Epsilon > 50, ]
temp_title = paste("(radius of disk in mts) in Berlin dataset.")
title = substitute(paste("Speedup by ", epsilon) ~ temp_title, list(temp_title = temp_title))
g = ggplot(data=data, aes(x=factor(Epsilon), y=Time, fill=Cores)) +
geom_bar(stat="identity", position=position_dodge(width = 0.75),width = 0.75) +
labs(title=title, y="Time(s)", x=expression(paste(epsilon,"(mts)")))
plot(g)
PATH = "Y2Q4/Scripts/SpeedupSingleNode/"
filename ="Berlin_N80K-80K_E50.0-100.0"
files = system(paste0("ls ",PHD_HOME,PATH,filename,"_C*.csv"), intern = T)
data = data.frame()
foreach(f = files) %do% {
data = rbind(data, read.csv(f, header = F))
}
files
files[1]
files[3]
for(i in 1:18){print(i)}
for(i in 1:18){print(files[1])}
for(i in 1:18){print(files[i])}
length(files)
if (!require("pacman")) install.packages("pacman")
pacman::p_load(ggplot2, data.table, foreach, sqldf)
PHD_HOME = Sys.getenv(c("PHD_HOME"))
PATH = "Y2Q4/Scripts/Scaleup/temp/"
filename ="Berlin_N40K-80K_E50.0-100.0"
files = system(paste0("ls ",PHD_HOME,PATH,filename,"_C*.csv"), intern = T)
data = data.frame()
foreach(f = files) %do% {
data = rbind(data, read.csv(f, header = F))
}
View(data)
data = data[, c(2, 3, 6, 9)]
names(data) = c("Epsilon", "Dataset", "Time", "Cores")
data40 = sqldf("SELECT Epsilon, Dataset, Cores, Time FROM data WHERE Dataset LIKE '40K' AND Cores = 14")
data60 = sqldf("SELECT Epsilon, Dataset, Cores, Time FROM data WHERE Dataset LIKE '60K' AND Cores = 21")
data80 = sqldf("SELECT Epsilon, Dataset, Cores, Time FROM data WHERE Dataset LIKE '80K' AND Cores = 28")
data = rbind(data40, data60, data80)
data = sqldf("SELECT Epsilon, Dataset, Cores, AVG(Time) AS Time FROM data GROUP BY 1, 2, 3")
data$Cores = factor(data$Cores)
data = data[data$Epsilon > 50, ]
temp_title = paste("(radius of disk in mts) in Berlin dataset.")
title = substitute(paste("Scaleup by ", epsilon) ~ temp_title, list(temp_title = temp_title))
g = ggplot(data=data, aes(x=factor(Epsilon), y=Time, fill=Cores)) +
geom_bar(stat="identity", position=position_dodge(width = 0.75),width = 0.75) +
labs(title=title, x=expression(paste(epsilon,"(mts)")))
plot(g)
if (!require("pacman")) install.packages("pacman")
pacman::p_load(ggplot2, data.table, foreach, sqldf)
PHD_HOME = Sys.getenv(c("PHD_HOME"))
PATH = "Y2Q4/Scripts/Speedup/"
filename ="Berlin_N80K-80K_E50.0-100.0"
files = system(paste0("ls ",PHD_HOME,PATH,filename,"_C*.csv"), intern = T)
data = data.frame()
foreach(f = files) %do% {
data = rbind(data, read.csv(f, header = F))
}
data = data[, c(2, 3, 6, 9)]
names(data) = c("Epsilon", "Dataset", "Time", "Cores")
data = sqldf("SELECT Epsilon, Dataset, Cores, AVG(Time) AS Time FROM data GROUP BY 1, 2, 3")
data$Cores = factor(data$Cores)
data = data[data$Epsilon > 50, ]
temp_title = paste("(radius of disk in mts) in Berlin dataset.")
title = substitute(paste("Speedup by ", epsilon) ~ temp_title, list(temp_title = temp_title))
g = ggplot(data=data, aes(x=factor(Epsilon), y=Time, fill=Cores)) +
geom_bar(stat="identity", position=position_dodge(width = 0.75),width = 0.75) +
labs(title=title, y="Time(s)", x=expression(paste(epsilon,"(mts)")))
plot(g)
PATH = "Y2Q4/Scripts/SpeedupSingleNode/"
filename ="Berlin_N80K-80K_E50.0-100.0"
files = system(paste0("ls ",PHD_HOME,PATH,filename,"_C*.csv"), intern = T)
data = data.frame()
for(i in 1:length(files)){
data = rbind(data, read.csv(files[i], header = F))
}
data = data[, c(2, 3, 6, 9)]
names(data) = c("Epsilon", "Dataset", "Time", "Cores")
data = sqldf("SELECT Epsilon, Dataset, Cores, AVG(Time) AS Time FROM data GROUP BY 1, 2, 3")
data$Cores = factor(data$Cores)
data = data[data$Epsilon > 50, ]
temp_title = paste("(radius of disk in mts) in Berlin dataset.")
title = substitute(paste("Speedup by ", epsilon) ~ temp_title, list(temp_title = temp_title))
g = ggplot(data=data, aes(x=factor(Epsilon), y=Time, fill=Cores)) +
geom_bar(stat="identity", position=position_dodge(width = 0.75),width = 0.75) +
labs(title=title, y="Time(s)", x=expression(paste(epsilon,"(mts)")))
plot(g)
PHD_HOME = Sys.getenv(c("PHD_HOME"))
PATH = "Y3Q1/Datasets/"
berlin = read.csv('B80.csv')
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/makeScaleupBerlinSamples.R')
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/makeScaleupBerlinSamples.R')
nrow(berlin)
berlin = read.csv(filename, header = F)
nrow(berlin)
seq(1,80,4)
seq(2,80,4)
seq(3,80,4)
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/makeScaleupBerlinSamples.R')
S20K
S20K + S40K
a = seq(1,80,4)
b = seq(2,80,4)
a
b
a + b
c(a,b)
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/makeScaleupBerlinSamples.R')
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/makeScaleupBerlinSamples.R')
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/makeScaleupBerlinSamples.R')
c(a,b)
c(i1,i2)
a = seq(1,80,4)
b = seq(2,80,4)
c(a,b)
sort(c(a,b))
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/makeScaleupBerlinSamples.R')
View(B20K)
View(B40K)
View(B60K)
View(B80K)
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/makeScaleupBerlinSamples.R')
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/makeScaleupBerlinSamples.R')
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/makeScaleupBerlinSamples.R')
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/plotScaleup.R')
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/plotScaleup.R')
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/plotScaleup.R')
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/plotScaleup.R')
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/plotScaleup.R')
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/plotScaleup.R')
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/plotScaleup.R')
PATH = "Y3Q1/Scripts/Scaleup/"
filename ="Berlin_N20K-80K_E50.0-100.0"
files = system(paste0("ls ",PHD_HOME,PATH,filename,"_C*.csv"), intern = T)
data = data.frame()
foreach(f = files) %do% {
data = rbind(data, read.csv(f, header = F))
}
View(data)
data = data[, c(2, 3, 7, 8, 9)]
names(data) = c("Epsilon", "Dataset", "Candidates", "Maximals", "Cores")
data20 = sqldf("SELECT Epsilon, Dataset, Cores, Candidates, Maximals FROM data WHERE Dataset LIKE '20K' AND Cores = 7")
data40 = sqldf("SELECT Epsilon, Dataset, Cores, Candidates, Maximals FROM data WHERE Dataset LIKE '40K' AND Cores = 14")
data60 = sqldf("SELECT Epsilon, Dataset, Cores, Candidates, Maximals FROM data WHERE Dataset LIKE '60K' AND Cores = 21")
data80 = sqldf("SELECT Epsilon, Dataset, Cores, Candidates, Maximals FROM data WHERE Dataset LIKE '80K' AND Cores = 28")
data = rbind(data20, data40, data60, data80)
data = sqldf("SELECT DISTINCT Epsilon, Dataset, Cores, Candidates, Maximals FROM data")
data$Cores = factor(data$Cores)
temp_title = paste("(radius of disk in mts) in Berlin dataset.")
title = substitute(paste("Number of Candidate and Maximal disks by ", epsilon) ~ temp_title, list(temp_title = temp_title))
g = ggplot(data=data, aes(x=factor(Epsilon), y=Candidates, fill=Cores)) +
geom_bar(stat="identity", position=position_dodge(width = 0.75),width = 0.75) +
# scale_y_continuous(limits = c(0, 125)) +
labs(title=title, y="Number of disks", x=expression(paste(epsilon,"(mts)")))
plot(g)
data
install.packages("tidyr")
library("tidyr", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.4")
gather(data, "Disks", "Count", 4:5)
library("tidyr")
data = gather(data, "Disks", "Count", 4:5)
View(data)
g = ggplot(data=data, aes(x=factor(Dataset), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Number of points") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_colour_discrete() +
scale_shape_discrete() +
scale_linetype_discrete()
plot(g)
data$Dataset = factor(data$Dataset)
g = ggplot(data=data, aes(x=factor(Dataset), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Number of points") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_colour_discrete() +
scale_shape_discrete() +
scale_linetype_discrete()
plot(g)
data$Dataset = factor(data$Dataset, levels = paste0(seq(20, 80, 20), "K"))
g = ggplot(data=data, aes(x=factor(Dataset), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Number of points") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_colour_discrete() +
scale_shape_discrete() +
scale_linetype_discrete()
plot(g)
g = ggplot(data=data, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_colour_discrete() +
scale_shape_discrete() +
scale_linetype_discrete()
plot(g)
g = ggplot(data=data, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_colour_discrete() +
scale_shape_discrete() +
scale_linetype_discrete()
plot(g)
candidates = data[data$Disks == "Candidates",]
g = ggplot(data=candidates, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_colour_discrete() +
scale_shape_discrete() +
scale_linetype_discrete()
plot(g)
maximals = data[data$Disks == "Maximals",]
g = ggplot(data=data, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_colour_discrete() +
scale_shape_discrete() +
scale_linetype_discrete()
plot(g)
g = ggplot(data=maximals, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_colour_discrete() +
scale_shape_discrete() +
scale_linetype_discrete()
plot(g)
g = ggplot(data=maximals, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_color_manual(values=c("#9999CC")) +
scale_shape_discrete() +
scale_linetype_discrete()
plot(g)
g = ggplot(data=maximals, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_color_manual(values=c("#9999CC")) +
scale_shape_manual(values=c(2)) +
scale_linetype_discrete()
plot(g)
g = ggplot(data=maximals, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_color_manual(values=c("#9999CC")) +
scale_shape_manual(values=c(3)) +
scale_linetype_discrete()
plot(g)
g = ggplot(data=maximals, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_color_manual(values=c("#9999CC")) +
scale_shape_manual(values=c(4)) +
scale_linetype_discrete()
plot(g)
g = ggplot(data=maximals, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_color_manual(values=c("#9999CC")) +
scale_shape_manual(solid=T, values=c(4)) +
scale_linetype_discrete()
plot(g)
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/plotScaleup.R')
g = ggplot(data=maximals, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_color_manual(values=c("#9999CC")) +
scale_shape_manual(solid=T, values=c(2)) +
scale_linetype_discrete()
g = ggplot(data=maximals, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_color_manual(values=c("#9999CC")) +
scale_shape_manual(values=c(15)) +
scale_linetype_discrete()
plot(g)
g = ggplot(data=maximals, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_color_manual(values=c(2)) +
scale_shape_manual(values=c(15)) +
scale_linetype_discrete()
plot(g)
g = ggplot(data=candidates, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_color_manual(values=c(1)) +
scale_shape_manual(values=c(16)) +
scale_linetype_discrete()
plot(g)
g = ggplot(data=candidates, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_color_manual(values=c(3)) +
scale_shape_manual(values=c(16)) +
scale_linetype_discrete()
plot(g)
maximals = data[data$Disks == "Maximals",]
g = ggplot(data=maximals, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_color_manual(values=c(2)) +
scale_shape_manual(values=c(15)) +
scale_linetype_discrete()
plot(g)
g = ggplot(data=data, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_colour_discrete() +
scale_shape_discrete() +
scale_linetype_discrete()
plot(g)
g = ggplot(data=candidates, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_color_manual(values=c("#F8766D")) +
scale_shape_manual(values=c(16)) +
scale_linetype_discrete()
plot(g)
maximals = data[data$Disks == "Maximals",]
g = ggplot(data=maximals, aes(x=factor(Cores), y=Count, group = Disks, colour = Disks, shape = Disks)) +
geom_line(aes(linetype = Disks)) +
geom_point(size = 2) +
labs(title = title, y = "Count") +
scale_x_discrete("Cores") +
theme(axis.text.x = element_text(size = 8, angle = 90), axis.text.y = element_text(size = 8)) +
facet_wrap(~Epsilon) +
scale_color_manual(values=c("#00BFC4")) +
scale_shape_manual(values=c(16)) +
scale_linetype_discrete()
plot(g)
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/plotScaleup.R')
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/plotScaleup.R')
source('~/Documents/PhD/Code/Y3Q1/Scripts/R/plotScaleup.R')
View(candidates1)
View(candidates2)
