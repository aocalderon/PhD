PHD_HOME = Sys.getenv(c("PHD_HOME"))
if (!require("pacman")) install.packages("pacman")
pacman::p_load(ggplot2, data.table, foreach, sqldf)
PHD_HOME = Sys.getenv(c("PHD_HOME"))
PATH = "Y2Q4/Scripts/SpeedupSingleNode/"
filename ="Berlin_N80K-80K_E50.0-100.0"
files = system(paste0("ls ",PHD_HOME,PATH,filename,"_C*.csv"), intern = T)
data = data.frame()
foreach(f = files) %do% {
data = rbind(data, read.csv(f, header = F))
}
data = data[, c(2, 3, 6, 9)]
names(data) = c("Epsilon", "Dataset", "Time", "Cores")
data = sqldf("SELECT Epsilon, Dataset, Cores, AVG(Time) AS Time FROM data GROUP BY 1, 2, 3")
data$Cores = factor(data$Cores)
data = data[data$Epsilon > 50, ]
temp_title = paste("(radius of disk in mts) in Berlin dataset.")
title = substitute(paste("Speedup by ", epsilon) ~ temp_title, list(temp_title = temp_title))
g = ggplot(data=data, aes(x=factor(Epsilon), y=Time, fill=Cores)) +
geom_bar(stat="identity", position=position_dodge(width = 0.75),width = 0.75) +
labs(title=title, y="Time(s)", x=expression(paste(epsilon,"(mts)")))
plot(g)
PATH = "Y2Q4/Scripts/SpeedupSingleNode/"
filename ="Berlin_N80K-80K_E50.0-100.0"
files = system(paste0("ls ",PHD_HOME,PATH,filename,"_C*.csv"), intern = T)
data = data.frame()
foreach(f = files) %do% {
data = rbind(data, read.csv(f, header = F))
}
files
files[1]
files[3]
for(i in 1:18){print(i)}
for(i in 1:18){print(files[1])}
for(i in 1:18){print(files[i])}
length(files)
