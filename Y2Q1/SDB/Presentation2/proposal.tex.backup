%% LyX 2.1.4 created this file.  For more info, see http://www.lyx.org/.
%% Do not edit unless you really know what you are doing.
\documentclass{beamer}
\usepackage{amssymb}
\usepackage{mathptmx}
\usepackage{graphicx}
\usepackage{minted}
\usepackage{xcolor}

\definecolor{LightGray}{gray}{0.9}

\ifx\hypersetup\undefined
  \AtBeginDocument{%
    \hypersetup{unicode=true,
 bookmarksnumbered=false,bookmarksopen=false,
 breaklinks=false,pdfborder={0 0 0},colorlinks=false}
  }
\else
  \hypersetup{unicode=true,
 bookmarksnumbered=false,bookmarksopen=false,
 breaklinks=false,pdfborder={0 0 0},colorlinks=false}
\fi

\makeatletter
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Textclass specific LaTeX commands.
 % this default might be overridden by plain title style
 \newcommand\makebeamertitle{\frame{\maketitle}}%
 % (ERT) argument for the TOC
 \AtBeginDocument{%
   \let\origtableofcontents=\tableofcontents
   \def\tableofcontents{\@ifnextchar[{\origtableofcontents}{\gobbletableofcontents}}
   \def\gobbletableofcontents#1{\origtableofcontents}
 }

 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% User specified LaTeX commands.
\usetheme{Warsaw}
% or ...
\useoutertheme{infolines}
\addtobeamertemplate{headline}{}{\vskip2pt}

\setbeamercovered{transparent}
% or whatever (possibly just delete it)



\setbeamertemplate{footline}
{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=.5\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
    \usebeamerfont{title in head/foot}%\insertshorttitle
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.5\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%
    \usebeamerfont{date in head/foot}\insertshortdate{}\hspace*{2em}
    \insertframenumber{} / \inserttotalframenumber\hspace*{2ex} 
  \end{beamercolorbox}}%
  \vskip0pt%
}

\usepackage{pifont}
\usepackage{animate}
\makeatother

\begin{document}

\title{Towards Parallel Detection of Moving Flock Patterns in Large Spatiotemporal Datasets}
\author{Andres Calderon}
%\institute{University of California, Riverside}

\makebeamertitle

% \AtBeginSection[]{
%   \frame<beamer>{ 
%     \frametitle{Agenda}   
%     \tableofcontents[currentsubsection] 
%   }
% }

\newif\iflattersubsect

\AtBeginSection[] {
    \begin{frame}<beamer>
    \frametitle{Agenda} %
    \tableofcontents[currentsection]  
    \end{frame}
    \lattersubsectfalse
}

\AtBeginSubsection[] {
    % \iflattersubsect
    \begin{frame}<beamer>
    \frametitle{Agenda} %
    \tableofcontents[currentsubsection]  
    \end{frame}
    % \fi
    % \lattersubsecttrue
}

\begin{frame}{Agenda}
  \tableofcontents{}
\end{frame}

\section{Background}

\begin{frame}{Trajectory Datasets}
  \begin{itemize}
    \item They know where you are...
    \begin{itemize}
      \item Smart phones, GPS, RFID, WiFi...
    \end{itemize}
  \end{itemize}
  \centering
  \includegraphics[width=0.8\linewidth]{Figures/trajs.png}
  \\ \flushright \tiny (Jing et al, 2013)
  
\end{frame}

\begin{frame}{Movement patterns}
  \begin{itemize}
    \item A new set of rich and interesting movement patterns...
  \end{itemize}
  \centering
  \includegraphics[width=0.55\linewidth]{Figures/patterns}
  \\ \vspace{0.5cm} \tiny (Gudmundsson et al, 2008)
\end{frame}

\begin{frame}{Applications}
  \begin{itemize}
    \item Transportation...
  \end{itemize}
  \centering
  \includegraphics[clip, trim=0cm 1cm 0cm 0cm, width=1\linewidth]{Figures/its.png}
  \\ \vspace{0.5cm} \tiny (Zhang et al, 2016)
\end{frame}

\begin{frame}{Applications}
  \begin{itemize}
    \item Weather...
  \end{itemize}
  \centering
  \includegraphics[width=0.7\linewidth]{Figures/cyclones.png}
  \\ \vspace{0.5cm} \tiny (Turdukulov et al, 2014)
\end{frame}

\begin{frame}{Applications}
  \begin{itemize}
    \item Climate change...
  \end{itemize}
  \centering
  \includegraphics[width=0.5\linewidth]{Figures/icebergs.png}
  \\  \tiny (Calderon, 2011)
\end{frame}

\begin{frame}{Applications}
  \begin{itemize}
    \item Ecology...
  \end{itemize}
  \centering
  \includegraphics[width=0.7\linewidth]{Figures/birds1/frame-13.png}
  \\ \vspace{0.5cm} \tiny (Majka, 2016)
\end{frame}

\begin{frame}{Applications}
  \begin{itemize}
    \item Ecology...
  \end{itemize}
  \centering
  % \animategraphics[autoplay, loop,width=1\textheight]{5}{Figures/birds2/frame-}{0}{51}//
  \vspace{0.5cm} \tiny (Fink et al, 2014)
\end{frame}

\section{Flock Patterns}

% \begin{frame}{Flock Patterns}
%   \begin{definition}[$(\mu,\epsilon,\delta)-flock$]
%     \tiny Given a set of $n$ trajectories where each trajectory consists of $\tau$ line segments, a flock in a time interval $T=[t_i,t_j]$, where $j-i+1 \geq \delta$, consists of at least $\mu$ entities such that for every point in time within $T$ there is a disk of radius $\epsilon$ that contains all the $\mu$ entities. Note that $\mu, \delta \in \mathbb{N}$ and $\epsilon > 0$ are given constants (Benkert et al, 2008).
%   \end{definition}
%   \centering \includegraphics[clip, trim=11cm 18cm 2cm 4.5cm,height=0.6\textheight]{Figures/flock}
%   \\ \vspace{0.1cm} \tiny (Vieira et al, 2009)
% \end{frame}

\begin{frame}{Flock Patterns}
  \begin{definition}[$(\mu,\epsilon,\delta)-flock$]
    Sets of at least \alert{ $\mu$ } objects moving close enough (\alert{ $\epsilon$ }) for at least \alert{ $\delta$ } time intervals (Benkert et al, 2008). 
  \end{definition}
  \centering \includegraphics[clip, trim=11cm 18cm 2cm 4.5cm,height=0.6\textheight]{Figures/flock}
  \\ \vspace{0.1cm} \tiny (Vieira et al, 2009)
\end{frame}

\subsection{BFE algorithm}

\begin{frame}{BFE algorithm}
  \begin{itemize}
   \item Two steps algorithm:\pause
   \begin{enumerate}
    \item Find sets of disks at each time interval.\pause
    \item Join consecutive time intervals detecting disks with same objects.
   \end{enumerate}
  \end{itemize}
\end{frame}

\begin{frame}{BFE algorithm}
  \centering \includegraphics[page=2,height=0.7\textheight]{Figures/flock/f0}
\end{frame}
\begin{frame}{BFE algorithm}
  \centering \includegraphics[page=2,height=0.7\textheight]{Figures/flock/f1}
\end{frame}
\begin{frame}{BFE algorithm}
  \centering \includegraphics[page=2,height=0.7\textheight]{Figures/flock/f3}
\end{frame}
\begin{frame}{BFE algorithm}
  \centering \includegraphics[page=2,height=0.7\textheight]{Figures/flock/f4}
\end{frame}
\begin{frame}{BFE algorithm}
  \centering \includegraphics[page=2,height=0.7\textheight]{Figures/flock/f5}
\end{frame}
\begin{frame}{BFE algorithm}
  \centering \includegraphics[page=2,height=0.7\textheight]{Figures/flock/f7}
\end{frame}
\begin{frame}{BFE algorithm}
  \centering \includegraphics[page=2,height=0.7\textheight]{Figures/flock/f8}
\end{frame}
\begin{frame}{BFE algorithm}
  \centering \includegraphics[page=2,height=0.7\textheight]{Figures/flock/f9}
\end{frame}
\begin{frame}{BFE algorithm}
  \centering \includegraphics[page=2,height=0.7\textheight]{Figures/flock/f10}
\end{frame}

\subsection{Finding the disks (a.k.a The Problem)}

\begin{frame}{Finding the disks...}
  \begin{itemize}
   \item Finding the set of disks is no trivial.
   \item Vieira et al. (2009) proposed a polynomial solution ($O(2n^2)$).
  \end{itemize}
  \centering 
  \includegraphics[page=4,clip,trim=4.1cm 12.4cm 13.5cm 13cm,height=0.26\textheight]{Figures/online} \\
  \includegraphics[page=5,clip,trim=1.8cm 13.4cm 11.2cm 12.2cm,height=0.35\textheight]{Figures/online}
\end{frame}

\begin{frame}{Finding the disks...}
  \centering
  %\animategraphics[autoplay, loop,width=0.85\textheight]{1}{Figures/n/n-}{0}{14}
\end{frame}

\section{Proposal}

\begin{frame}{Spatial In Memory Big data Analytics}
  \centering \includegraphics[width=0.3\textwidth]{Figures/logo.png}
  \begin{itemize}
   \item Simba is a distributed in-memory spatial analytics engine based on Apache Spark (Xie et al, 2016).
   \begin{itemize}
    \item Extends the SQL and DataFrame query interfaces of Spark SQL.
    \item Supports building native (spatial) indexes over RDDs.
    \item Implements efficient algorithms for different spatial operators.
    \item Introduces spatial and index-aware optimizers to Spark SQL.
    \item Open source [\url{http://www.cs.utah.edu/~dongx/simba/}]
   \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}{Spatial In Memory Big data Analytics}
  \centering 
  \includegraphics[page=6,clip,trim=2cm 21.5cm 11.5cm 2.2cm,height=0.5\textheight]{Figures/simba}
\end{frame}

\begin{frame}{Goals...}
  \begin{enumerate}
   \item Design a parallel program to find the set of disk in a given time interval.
   \item Implement the new version in an In-Memory Distributed System (Simba).
   \item Test the implementation using different settings and datasets.
  \end{enumerate}
\end{frame}

\subsection*{Thanks...}

\begin{frame}{}
  \centering
  \huge Thank you!!! \\
  \vspace{2cm}
  \large Do you have any question?
\end{frame}

\end{document}

% \centering
% \begin{minipage}{.45\linewidth}
%   \includegraphics[width=\linewidth]{Figures/}
% \end{minipage}
% \hspace{.05\linewidth}
% \begin{minipage}{.45\linewidth}
%   \includegraphics[width=\linewidth]{Figures/}
% \end{minipage}